import{_ as f,q as m,o as a,c as p,a as i,z as d,b as h,C as c,t as u,G as T,L as k,m as j,B as x,j as C,k as M,x as P,A as b,h as E}from"./js/_plugin-vue_export-helper.299eda55.js";import{l as z}from"./js/index.ca21de53.js";import{l as G}from"./js/index.f123d27f.js";import{l as R}from"./js/index.0b123ab1.js";import{h as F,t as H,T as J}from"./js/postContent.42ceb47d.js";import{e as y}from"./js/elemLoaded.9a6eb745.js";import{a as D,g as S,s as I}from"./js/index.c7acbe5b.js";import{a as w,m as A}from"./js/vuex.esm-bundler.f966fce5.js";import"./js/default-i18n.0e8bc810.js";import{u as N,T as q}from"./js/TruSeoScore.1eab6bb1.js";import"./js/WpTable.43babaf5.js";import"./js/constants.d64d7051.js";import{a as L,c as U}from"./js/Caret.e5d23aaa.js";import{t as V}from"./js/html.5f1b4643.js";import"./js/SaveChanges.176fcae6.js";import{C as K}from"./js/ScoreButton.4d6e17b2.js";import{S as Q,a as W,b as X,c as Y}from"./js/Affiliate.680beb98.js";import"./js/client.e7a26247.js";import"./js/_commonjsHelpers.f84db168.js";import"./js/helpers.73050afe.js";import"./js/cleanForSlug.a98315ee.js";import"./js/Index.c0b708e6.js";import"./js/Row.0ab5735c.js";import"./js/RequiresUpdate.fe231e49.js";import"./js/Index.60834494.js";const Z={setup(){const{strings:s}=N();return{composableStrings:s}},components:{CoreScoreButton:K,SvgCircleCheck:L,SvgCircleClose:U},mixins:[q],props:{post:Object,index:Number},data(){return{postId:null,columnName:null,value:null,title:null,titleParsed:null,postDescription:null,descriptionParsed:null,imageTitle:null,imageAltTag:null,showEditTitle:!1,showEditDescription:!1,showEditImageTitle:!1,showEditImageAltTag:!1,showTruSeo:!1,isSpecialPage:!1,strings:w(this.composableStrings,{title:this.$t.__("Title:",this.$td),description:this.$t.__("Description:",this.$td),imageTitle:this.$t.__("Image Title:",this.$td),imageAltTag:this.$t.__("Image Alt Tag:",this.$td),edit:this.$t.__("Edit",this.$td),save:this.$t.__("Save",this.$td),cancel:this.$t.__("Cancel",this.$td),wait:this.$t.__("Please wait...",this.$td)})}},computed:{...A(["options","currentPost"])},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.post.title=this.title,this.post.description=this.postDescription,this.$http.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,title:this.post.title,description:this.post.description}).then(s=>{this.titleParsed=s.body.title,this.descriptionParsed=s.body.description,this.post.titleParsed=s.body.title,this.post.descriptionParsed=s.body.description;const e=window.aioseo.posts;e[this.index]=this.post,D(this.$.appContext.app,{posts:e}),this.$root._data.screen.base!=="upload"&&this.runAnalysis(this.post.id)}).catch(s=>{console.error(`Unable to update post with ID ${this.post.id}: ${s}`)})},saveImage(){this.showEditImageTitle=!1,this.showEditImageAltTag=!1,this.post.title=this.title,this.post.description=this.postDescription,this.post.imageTitle=this.imageTitle,this.post.imageAltTag=this.imageAltTag,this.$http.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,isMedia:!0,title:this.post.title,description:this.post.description,imageTitle:this.post.imageTitle,imageAltTag:this.post.imageAltTag}).then(()=>{}).catch(s=>{console.error(`Unable to update attachment with ID ${this.post.id}: ${s}`)})},cancel(){this.value=this.post.value,this.showEditTitle=!1,this.showEditDescription=!1,this.showEditImageTitle=!1,this.showEditImageAltTag=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},editImageTitle(){this.showEditImageTitle=!0},editImageAlt(){this.showEditImageAltTag=!0},truncate:V,updatePostTitle(s,e){const n=document.getElementById(`post-${s}`);if(!n)return;const v=n.getElementsByClassName("title")[0].getElementsByTagName("a")[0];if(!v)return;const t=v.getElementsByTagName("span")[0];v.innerText=e,v.prepend(t)}},mounted(){this.postId=this.post.id,this.columnName=this.post.columnName,this.value=this.post.value,this.imageTitle=this.post.imageTitle,this.imageAltTag=this.post.imageAltTag,this.isSpecialPage=this.post.isSpecialPage,this.title=this.post.title||this.post.defaultTitle,this.titleParsed=this.post.titleParsed,this.postDescription=this.post.description||this.post.defaultDescription,this.descriptionParsed=this.post.descriptionParsed},async created(){const{options:s,currentPost:e,tags:n}=await S(this.$.appContext.app);this.$store.state.options=w({...this.$store.state.options},{...s}),this.$store.state.currentPost=w({...this.$store.state.currentPost},{...e}),this.$store.state.tags=w({...this.$store.state.tags},{...n}),this.showTruSeo=F()}},tt={key:0,class:"edit-row"},et={key:1,class:"edit-row edit-title"},st=["title"],it=["id"],ot={key:2,class:"edit-row"},nt=["title"],lt=["title"],rt={key:3,class:"edit-row edit-description"},at=["title"],ct=["id"],dt={key:4,class:"edit-row"},ut=["title"],pt=["title"],ht={key:5,class:"edit-row edit-image-title"},mt=["title"],_t=["id"],gt={key:6,class:"edit-row"},vt=["title"],wt=["title"],Tt={key:7,class:"edit-row edit-image-alt"},kt=["title"],ft=["id"],Pt={key:8,class:"edit-row"},Ct=["title"],It=["title"];function xt(s,e,n,v,t,o){const g=m("core-score-button"),_=m("svg-circle-check"),r=m("svg-circle-close");return a(),p("div",{class:x(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription||t.showEditImageTitle||t.showEditImageAltTag}])},[i("div",null,[this.$root._data.screen.base==="edit"&&t.showTruSeo&&this.$allowed("aioseo_page_analysis")&&!t.isSpecialPage?(a(),p("div",tt,[d(g,{score:this.post.value,postId:t.postId},null,8,["score","postId"])])):h("",!0),this.$allowed("aioseo_page_general_settings")?(a(),p("div",et,[i("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:e[0]||(e[0]=c((...l)=>o.editTitle&&o.editTitle(...l),["prevent"]))},null,8,st),i("strong",null,u(t.strings.title)+" ",1),i("span",{id:`aioseo-${t.columnName}-${t.postId}-value`},u(o.truncate(t.titleParsed,100)),9,it)])):h("",!0),t.showEditTitle?(a(),p("div",ot,[T(i("textarea",{"onUpdate:modelValue":e[1]||(e[1]=l=>t.title=l),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[k,t.title]]),i("a",{class:"dashicons aioseo-quickedit-input-save",onClick:e[2]||(e[2]=c((...l)=>o.save&&o.save(...l),["prevent"])),title:t.strings.save},[d(_,{width:"20"})],8,nt),i("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:e[3]||(e[3]=c((...l)=>o.cancel&&o.cancel(...l),["prevent"])),title:t.strings.cancel},[d(r,{width:"20"})],8,lt)])):h("",!0),this.$allowed("aioseo_page_general_settings")?(a(),p("div",rt,[i("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:e[4]||(e[4]=c((...l)=>o.editDescription&&o.editDescription(...l),["prevent"]))},null,8,at),i("strong",null,u(t.strings.description)+" ",1),i("span",{id:`aioseo-${t.columnName}-${t.postId}-value`},u(o.truncate(t.descriptionParsed)),9,ct)])):h("",!0),t.showEditDescription?(a(),p("div",dt,[T(i("textarea",{"onUpdate:modelValue":e[5]||(e[5]=l=>t.postDescription=l),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[k,t.postDescription]]),i("a",{class:"dashicons aioseo-quickedit-input-save",onClick:e[6]||(e[6]=c((...l)=>o.save&&o.save(...l),["prevent"])),title:t.strings.save},[d(_,{width:"20"})],8,ut),i("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:e[7]||(e[7]=c((...l)=>o.cancel&&o.cancel(...l),["prevent"])),title:t.strings.cancel},[d(r,{width:"20"})],8,pt)])):h("",!0),j(s.$slots,"default"),this.$root._data.screen.base==="upload"&&n.post.showMedia?(a(),p("div",ht,[i("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:e[8]||(e[8]=c((...l)=>o.editImageTitle&&o.editImageTitle(...l),["prevent"]))},null,8,mt),i("strong",null,u(t.strings.imageTitle),1),i("span",{id:`aioseo-${t.columnName}-${t.postId}-value`},u(t.imageTitle),9,_t)])):h("",!0),t.showEditImageTitle?(a(),p("div",gt,[T(i("textarea",{"onUpdate:modelValue":e[9]||(e[9]=l=>t.imageTitle=l),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[k,t.imageTitle]]),i("a",{class:"dashicons aioseo-quickedit-input-save",onClick:e[10]||(e[10]=c((...l)=>o.saveImage&&o.saveImage(...l),["prevent"])),title:t.strings.save},[d(_,{width:"20"})],8,vt),i("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:e[11]||(e[11]=c((...l)=>o.cancel&&o.cancel(...l),["prevent"])),title:t.strings.cancel},[d(r,{width:"20"})],8,wt)])):h("",!0),this.$root._data.screen.base==="upload"&&n.post.showMedia?(a(),p("div",Tt,[i("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:e[12]||(e[12]=c((...l)=>o.editImageAlt&&o.editImageAlt(...l),["prevent"]))},null,8,kt),i("strong",null,u(t.strings.imageAltTag),1),i("span",{id:`aioseo-${t.columnName}-${t.postId}-value`},u(t.imageAltTag),9,ft)])):h("",!0),t.showEditImageAltTag?(a(),p("div",Pt,[T(i("textarea",{"onUpdate:modelValue":e[13]||(e[13]=l=>t.imageAltTag=l),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[k,t.imageAltTag]]),i("a",{class:"dashicons aioseo-quickedit-input-save",onClick:e[14]||(e[14]=c((...l)=>o.saveImage&&o.saveImage(...l),["prevent"])),title:t.strings.save},[d(_,{width:"20"})],8,Ct),i("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:e[15]||(e[15]=c((...l)=>o.cancel&&o.cancel(...l),["prevent"])),title:t.strings.cancel},[d(r,{width:"20"})],8,It)])):h("",!0)])],2)}const $=f(Z,[["render",xt]]);const bt={components:{CorePostColumn:$,SvgLinkAffiliate:Q,SvgLinkExternal:W,SvgLinkInternalInbound:X,SvgLinkInternalOutbound:Y},props:{post:Object,index:Number},data(){return{strings:{links:this.$t.__("Links:",this.$tdPro)}}}},Et={key:0,class:"links"},yt={class:"header"};function Dt(s,e,n,v,t,o){const g=m("svg-link-internal-inbound"),_=m("svg-link-internal-outbound"),r=m("svg-link-affiliate"),l=m("svg-link-external"),O=m("core-post-column");return a(),C(O,{post:n.post,index:n.index},{default:M(()=>[i("template",null,[n.post.linkCounts&&n.post.postType!=="attachment"?(a(),p("div",Et,[i("strong",yt,u(t.strings.links),1),i("span",null,[d(g),P(u(n.post.linkCounts.inboundInternal),1)]),i("span",null,[d(_),P(u(n.post.linkCounts.outboundInternal),1)]),i("span",null,[d(r),P(u(n.post.linkCounts.affiliate),1)]),i("span",null,[d(l),P(u(n.post.linkCounts.external),1)])])):h("",!0)])]),_:1},8,["post","index"])}const St=f(bt,[["render",Dt]]),At={components:{CorePostColumn:$},props:{post:Object,index:Number}};function Nt(s,e,n,v,t,o){const g=m("core-post-column");return a(),C(g,{post:n.post,index:n.index},null,8,["post","index"])}const qt=f(At,[["render",Nt]]),Lt={components:{PostColumn:St,PostColumnLite:qt},props:{post:Object,index:Number}};function Ut(s,e,n,v,t,o){const g=m("PostColumn"),_=m("PostColumnLite");return a(),p("div",null,[s.$isPro?(a(),C(g,{key:0,post:n.post,index:n.index},null,8,["post","index"])):h("",!0),s.$isPro?h("",!0):(a(),C(_,{key:1,post:n.post,index:n.index},null,8,["post","index"]))])}const Vt=f(Lt,[["render",Ut]]);const $t={setup(){const{strings:s}=N();return{composableStrings:s}},components:{SvgCircleCheck:L,SvgCircleClose:U},mixins:[q],props:{term:Object,index:Number},data(){return{termId:null,columnName:null,title:null,titleParsed:null,termDescription:null,descriptionParsed:null,showEditTitle:!1,showEditDescription:!1,showTruSeo:!1,strings:w(this.composableStrings,{title:this.$t.__("Title:",this.$td),description:this.$t.__("Description:",this.$td),edit:this.$t.__("Edit",this.$td),save:this.$t.__("Save",this.$td),cancel:this.$t.__("Cancel",this.$td),wait:this.$t.__("Please wait...",this.$td)})}},computed:{...A(["options","currentPost"])},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.term.title=this.title,this.term.description=this.termDescription,this.$http.post(this.$links.restUrl("termscreen")).send({termId:this.term.id,title:this.term.title,description:this.term.description}).then(s=>{this.titleParsed=s.body.title,this.descriptionParsed=s.body.description,this.term.titleParsed=s.body.title,this.term.descriptionParsed=s.body.description;const e=window.aioseo.terms;e[this.index]=this.term,D(this.$.appContext.app,{terms:e})}).catch(s=>{console.error(`Unable to update term with ID ${this.term.id}: ${s}`)})},cancel(){this.showEditTitle=!1,this.showEditDescription=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},truncate:V},mounted(){this.termId=this.term.id,this.columnName=this.term.columnName,this.title=this.term.title,this.titleParsed=this.term.titleParsed,this.termDescription=this.term.description,this.descriptionParsed=this.term.descriptionParsed},async created(){const{options:s,currentPost:e,tags:n}=await S(this.$.appContext.app);this.$store.state.options=w({...this.$store.state.options},{...s}),this.$store.state.currentPost=w({...this.$store.state.currentPost},{...e}),this.$store.state.tags=w({...this.$store.state.tags},{...n}),this.showTruSeo=H()}},Bt={class:"edit-row edit-title"},Ot=["title"],jt=["id"],Mt={key:0,class:"edit-row"},zt=["title"],Gt=["title"],Rt={class:"edit-row edit-description"},Ft=["title"],Ht=["id"],Jt={key:1,class:"edit-row"},Kt=["title"],Qt=["title"];function Wt(s,e,n,v,t,o){const g=m("svg-circle-check"),_=m("svg-circle-close");return a(),p("div",{class:x(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription}])},[i("div",null,[i("div",Bt,[i("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:e[0]||(e[0]=c((...r)=>o.editTitle&&o.editTitle(...r),["prevent"]))},null,8,Ot),i("strong",null,u(t.strings.title),1),i("span",{id:`aioseo-${t.columnName}-${t.termId}-value`},u(o.truncate(t.titleParsed,100)),9,jt)]),t.showEditTitle?(a(),p("div",Mt,[T(i("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.title=r),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[k,t.title]]),i("a",{class:"dashicons aioseo-quickedit-input-save",onClick:e[2]||(e[2]=c((...r)=>o.save&&o.save(...r),["prevent"])),title:t.strings.save},[d(g,{width:"20"})],8,zt),i("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:e[3]||(e[3]=c((...r)=>o.cancel&&o.cancel(...r),["prevent"])),title:t.strings.cancel},[d(_,{width:"20"})],8,Gt)])):h("",!0),i("div",Rt,[i("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:e[4]||(e[4]=c((...r)=>o.editDescription&&o.editDescription(...r),["prevent"]))},null,8,Ft),i("strong",null,u(t.strings.description),1),i("span",{id:`aioseo-${t.columnName}-${t.termId}-value`},u(o.truncate(t.descriptionParsed)),9,Ht)]),t.showEditDescription?(a(),p("div",Jt,[T(i("textarea",{"onUpdate:modelValue":e[5]||(e[5]=r=>t.termDescription=r),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[k,t.termDescription]]),i("a",{class:"dashicons aioseo-quickedit-input-save",onClick:e[6]||(e[6]=c((...r)=>o.save&&o.save(...r),["prevent"])),title:t.strings.save},[d(g,{width:"20"})],8,Kt),i("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:e[7]||(e[7]=c((...r)=>o.cancel&&o.cancel(...r),["prevent"])),title:t.strings.cancel},[d(_,{width:"20"})],8,Qt)])):h("",!0)])],2)}const Xt=f($t,[["render",Wt]]),B=s=>(s=z(s),s=G(s),s=R(s),s.use(I),I._vm=s,s.config.globalProperties.$truSeo=new J,s),Yt=(s,e)=>{B(b({data(){return{screen:window.aioseo.screen}},render:()=>E(Vt)},{post:s,index:e})).mount(`#${s.columnName}-${s.id}`)};window.aioseo.posts&&window.aioseo.posts.forEach((s,e)=>{y(`#${s.columnName}-${s.id}`,`aioseoPostsTable-${s.id}`),document.addEventListener("animationstart",function(n){`aioseoPostsTable-${s.id}`===n.animationName&&Yt(s,e)},{passive:!0})});const Zt=(s,e)=>{B(b({data(){return{screen:window.aioseo.screen}},render:()=>E(Xt)},{term:s,index:e})).mount(`#${s.columnName}-${s.id}`)};window.aioseo.terms&&window.aioseo.posts.length===0&&window.aioseo.terms.forEach((s,e)=>{y(`#${s.columnName}-${s.id}`,`aioseoTermsTable-${s.id}`),document.addEventListener("animationstart",function(n){`aioseoTermsTable-${s.id}`===n.animationName&&Zt(s,e)},{passive:!0})});
