import{i as K,b as V}from"./index.c7acbe5b.js";import{b as M}from"./WpTable.43babaf5.js";import{_ as A}from"./default-i18n.0e8bc810.js";import"./constants.d64d7051.js";import{_ as T,q as u,o as r,j as v,k as b,a as i,C as y,z as f,t as h,x as R,c as g,b as p,m as it,B as S,F as G,E as Z,a0 as W,l as rt}from"./_plugin-vue_export-helper.299eda55.js";import"./SaveChanges.176fcae6.js";import{C as D}from"./Tooltip.daabe115.js";import{C as B}from"./Table.0d4dc1a2.js";import{a as E,b as lt,c as at}from"./Affiliate.680beb98.js";import{b as x,C as ut}from"./index.f123d27f.js";import{m as H,b as z,a as C,c as dt}from"./vuex.esm-bundler.f966fce5.js";import{P as F}from"./PostTypes.9ab32454.js";import{S as j}from"./Suggestion.d1d5f24c.js";import{C as ht}from"./Tabs.64ef3302.js";import{C as pt}from"./Index.60834494.js";import{S as gt,b as J,e as ct}from"./Caret.e5d23aaa.js";import{B as kt}from"./Editor.0df59dfe.js";import{T as Q}from"./Slide.46d23bfb.js";import{S as X}from"./Plus.bd473ecb.js";const I=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Qe={methods:{filteredSuggestionsOutbound(t){const s=t.links.suggestionsOutbound.rows,e=[];return s.forEach(l=>{this.editorIsSuggestionAlreadyAdded(l)||e.push(l)}),e},editorIsSuggestionAlreadyAdded(t){return K()?this.blockEditorIsSuggestionAlreadyAdded(t):V()?this.classicEditorIsSuggestionAlreadyAdded(t):!1},blockEditorIsSuggestionAlreadyAdded(t){const s=window.wp.data.select("core/block-editor").getBlocks();return s?this.doesBlockHaveLink(s,t):!1},doesBlockHaveLink(t,s){let e=!1;return t.forEach(l=>{e||!l.attributes||s.suggestions.forEach(n=>{const o=I(n.context.permalink.trim()),k=new RegExp(`(<a href="${o}"[^<>]*>)(.*)(</a[^<>]*>)`,"i");if(l.attributes.content&&l.attributes.content.search(k)!==-1){e=!0;return}if(!l.innerBlocks)return;this.doesBlockHaveLink(l.innerBlocks,s)&&(e=!0)})}),e},classicEditorIsSuggestionAlreadyAdded(t){let s="",e=null,l=null;if(document.querySelector("#wp-content-wrap.tmce-active")?(e=window.tinyMCE.get("content"),s=e.getContent({format:"raw"})):(l=document.querySelector("textarea#content"),s=l?l.value:""),!s)return!1;let n=!1;return t.suggestions.forEach(o=>{const k=I(o.context.permalink.trim()),c=new RegExp(`(<a href="${k}"[^<>]*>)(.*)(</a[^<>]*>)`,"i");s.search(c)!==-1&&(n=!0)}),n}}},L="all-in-one-seo-pack",q=()=>{const t={frontPage:A("Front Page",L),deleteLink:A("Delete Link",L)},s={areYouSureSingle:A("Are you sure you want to delete this link?",L),areYouSureMultiple:A("Are you sure you want to delete these links?",L),areYouSureAll:A("Are you sure you want to delete all links?",L),actionCannotBeUndone:A("This action cannot be undone.",L),yesSingle:A("Yes, I want to delete this link",L),yesMultiple:A("Yes, I want to delete these links",L),yesAll:A("Yes, I want to delete all links",L),noChangedMind:A("No, I changed my mind",L)};return{bulkOptions:[{label:A("Delete",L),value:"delete"}],modalStrings:s,strings:t}},tt={methods:{findTargetBlock(t,s){const e=I(s);let l=null;return t.forEach(n=>{if(l||!n.attributes)return;if(n.attributes.content&&n.attributes.content.search(e)!==-1){l=n.clientId;return}if(!n.innerBlocks)return;const o=this.findTargetBlock(n.innerBlocks,s);o&&(l=o)}),l}}},N={emits:["updatingLinks","linksUpdated"],mixins:[tt],props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!1},postId:{type:Number,required:!1},linksReport:{type:Boolean,default(){return!1}},postReport:{type:Boolean,default(){return!1}},metabox:{type:Boolean,default(){return!1}}},beforeMount(){this.$bus.$on("updatingLinks",t=>{this.wpTableLoading=t}),this.pageNumber=this.linkType?this.linkAssistant.postReport[this.linkType].totals.page:1},data(){return{changeItemsPerPageSlug:"linkAssistantPostsReport",action:"",showModal:!1,selectedRows:[]}},computed:{...H(["linkAssistant","currentPost"]),rows(){if(!this.metabox)return this.post.links[this.linkType].rows;const t=this.pageNumber===1?0:(this.pageNumber-1)*10;return this.post.links[this.linkType].rows.slice(t,t+10)}},methods:{...z("linkAssistant",["linkDelete","linksBulk","fetchPostReport","fetchLinksReportInner","postSettingsUpdate"]),fetchData(t){this.$bus.$emit("updatingLinks",!0);const s={...t,additionalFilters:{postId:this.post.ID||this.currentPost.id,postIndex:this.postIndex,type:this.linkType}},e=this.postReport?"fetchPostReport":"fetchLinksReportInner";return this[e](s).finally(()=>{this.$bus.$emit("updatingLinks",!1)})},openPostReport(t){window.location.href=`#/post-report?postId=${this.postId}&postIndex=${this.postIndex}&initialTab=${t}`},maybeDoBulkAction({action:t,selectedRows:s}){s===!1||!t||(this.action=t,this.selectedRows=s,this.showModal=!0)},doBulkAction(){if(this.showModal=!1,!(this.selectedRows===!1||typeof this.selectedRows>"u")){if(typeof this.selectedRows=="number"){this.doDeleteLink(this.selectedRows);return}if(this.metabox&&this.linkType!=="inboundInternal"){this.idsToIndexes(this.selectedRows).forEach(s=>{this.editorRemoveLink(s)});return}this.$bus.$emit("updatingLinks",!0),this.linksBulk({postIndex:this.postIndex,postId:this.post.ID||this.currentPost.id,action:this.action,linkType:this.linkType,linkIds:this.selectedRows,linksReport:this.linksReport,postReport:this.postReport}).finally(()=>{this.$bus.$emit("updatingLinks",!1),this.$emit("linksUpdated"),this.refreshTable()})}},doDeleteLink(t){const s=this.post.links[this.linkType].rows[t].id;if(s){if(this.metabox&&this.linkType!=="inboundInternal"){this.editorRemoveLink(t);return}this.$bus.$emit("updatingLinks",!0),this.linkDelete({postIndex:this.postIndex,postId:this.post.ID||this.currentPost.id,linkId:s,linksReport:this.linksReport,postReport:this.postReport}).finally(()=>{this.$bus.$emit("updatingLinks",!1),this.$emit("linksUpdated"),this.refreshTable()})}},editorRemoveLink(t){K()&&(this.$bus.$emit("updatingLinks",!1),this.blockEditorRemoveLink(t),this.$bus.$emit("updatingLinks",!1)),V()&&this.classicEditorRemoveLink(t)},blockEditorRemoveLink(t){const s=this.currentPost.linkAssistant.links[this.linkType].rows[t];if(!s)return;this.$bus.$emit("updatingLinks",!0);const e=I(s.anchor.trim()),l=s.phrase_html.trim(),n=I(l),o=window.wp.data.select("core/block-editor").getBlocks(),k=this.findTargetBlock(o,l);if(!k){this.$bus.$emit("updatingLinks",!1);return}const c=window.wp.data.select("core/block-editor").getBlock(k);if(!c){this.$bus.$emit("updatingLinks",!1);return}let _=new RegExp(`(<t?a[^<>]*>)(.*)?(${e})(.*)?(</t?a[^<>]*>)`,"i");const m=l.replace(_,"$2$3$4");_=new RegExp(`${n}`,"i"),window.wp.data.dispatch("core/block-editor").updateBlockAttributes(k,{content:c.attributes.content.replace(_,m)}).then(()=>{this.post.links[this.linkType].rows.splice(t,1)}).catch($=>{console.error(`Couldn	 delete link with type "${this.linkType}" and index ${t}:`,$)}).finally(()=>{this.$bus.$emit("updatingLinks",!1),this.$emit("linksUpdated")})},classicEditorRemoveLink(t){const s=this.currentPost.linkAssistant.links[this.linkType].rows[t];if(!s||!window.tinyMCE)return;this.$bus.$emit("updatingLinks",!0);let e="",l=null,n=null;if(document.querySelector("#wp-content-wrap.tmce-active")?(l=window.tinyMCE.get("content"),e=l.getContent({format:"raw"})):(n=document.querySelector("textarea#content"),e=n?n.value:""),!e){this.$bus.$emit("updatingLinks",!1);return}let o=s.phrase_html.trim();l||(o=o.replace(/(\sdata-mce-href=".*")/gi,""));const k=I(s.anchor.trim());let c=new RegExp(`(<t?a[^<>]*>)(.*)?(${k})(.*)?(</t?a[^<>]*>)`,"i");const _=o.replace(c,"$2$3$4"),m=I(o);c=new RegExp(`${m}`,"i"),e=e.replace(c,_),l?l.setContent(e):n.value=e,this.post.links[this.linkType].rows.splice(t,1),this.postSettingsUpdate({postContent:e}).finally(()=>{this.$bus.$emit("updatingLinks",!1),this.$emit("linksUpdated")})},idsToIndexes(t){let s,e=[];return Array.isArray(t)&&(s=t.map(Number)),s&&this.post.links[this.linkType].rows.forEach((l,n)=>{s.includes(l.id)&&e.push(n)}),t==="all"&&(e=this.post.links[this.linkType].rows.map((l,n)=>n)),e.sort(function(l,n){return n-l})}}};const mt={emits:["closeModal","doBulkAction"],components:{CoreModal:pt,SvgClose:gt},props:{selectedRows:{required:!0},strings:{type:Object,required:!0}},computed:{areYouSure(){return this.selectedRows==="all"?this.strings.areYouSureAll:Array.isArray(this.selectedRows)&&1<this.selectedRows.length?this.strings.areYouSureMultiple:this.strings.areYouSureSingle},confirmation(){return this.selectedRows==="all"?this.strings.yesAll:Array.isArray(this.selectedRows)&&1<this.selectedRows.length?this.strings.yesMultiple:this.strings.yesSingle}}},bt={class:"aioseo-modal-body"},ft=["innerHTML"];function _t(t,s,e,l,n,o){const k=u("svg-close"),c=u("base-button"),_=u("core-modal");return r(),v(_,{class:"aioseo-confirmation-modal","no-header":""},{body:b(()=>[i("div",bt,[i("button",{class:"close",onClick:s[1]||(s[1]=y(m=>t.$emit("closeModal",!0),["stop"]))},[f(k,{onClick:s[0]||(s[0]=m=>t.$emit("closeModal",!0))})]),i("h3",null,h(o.areYouSure),1),i("div",{class:"reset-description",innerHTML:e.strings.actionCannotBeUndone},null,8,ft),f(c,{type:"blue",size:"medium",onClick:s[2]||(s[2]=m=>t.$emit("doBulkAction",m))},{default:b(()=>[R(h(o.confirmation),1)]),_:1}),f(c,{type:"gray",size:"medium",onClick:s[3]||(s[3]=m=>t.$emit("closeModal",!0))},{default:b(()=>[R(h(e.strings.noChangedMind),1)]),_:1})])]),_:1})}const O=T(mt,[["render",_t]]);const wt={components:{CoreTooltip:D},props:{phrase:{type:String,required:!0},phraseHtml:{type:String,required:!0},anchor:{type:String,required:!0},url:{type:String,required:!0},tooltip:{type:Boolean,required:!1,default:!0},clickableAnchor:{type:Boolean,default(){return!1}}},computed:{partPattern(){const t=I(this.anchor);return new RegExp(`(.*)(<t?a[^>]*>.*${t}.*</t?a>)(.*)`,"i")},firstPart(){return this.stripTags(this.getPart(1))},linkAnchor(){return this.stripTags(this.getPart(2))},lastPart(){return this.stripTags(this.getPart(3))}},methods:{getPart(t){const s=this.phraseHtml.match(this.partPattern);return s?s[t]:""},stripTags(t){return t.replace(/(<([^>]+)>)/gi,"")},maybeOpenLink(){this.clickableAnchor&&window.open(this.url,"_blank").focus()}}},$t={class:"phrase"},vt={class:"first"},Pt=["href"],yt={key:1},Rt={class:"anchor"},At={class:"last"};function It(t,s,e,l,n,o){const k=u("core-tooltip");return r(),g("div",{class:"aioseo-link-assistant-phrase",onMouseover:s[1]||(s[1]=c=>t.$emit("mouseOver")),onMouseleave:s[2]||(s[2]=c=>t.$emit("mouseLeave"))},[i("span",$t,[i("span",vt,h(o.firstPart),1),e.tooltip?(r(),v(k,{key:0,type:"action"},{tooltip:b(()=>[i("a",{class:"tooltip-url",href:e.url,target:"_blank"},h(e.url),9,Pt)]),default:b(()=>[i("span",{class:"anchor",onClick:s[0]||(s[0]=(...c)=>o.maybeOpenLink&&o.maybeOpenLink(...c))},h(o.linkAnchor),1)]),_:1})):p("",!0),e.tooltip?p("",!0):(r(),g("div",yt,[i("span",Rt,h(o.linkAnchor),1)])),i("span",At,h(o.lastPart),1)]),it(t.$slots,"icons")],32)}const U=T(wt,[["render",It]]),St={setup(){const{strings:t,modalStrings:s,bulkOptions:e}=q();return{bulkOptions:e,modalStrings:s,composableStrings:t}},components:{CoreTooltip:D,CoreWpTable:B,LinkAssistantConfirmationModal:O,LinkAssistantPhrase:U,SvgLinkExternal:E,SvgTrash:x},mixins:[N,M],data(){return{tableId:"aioseo-post-report-affiliate",linkType:"affiliate",strings:C(this.composableStrings,{deleteAllLinks:this.$t.sprintf(this.$t.__("Delete All %1$s Links",this.$tdPro),this.$t.__("Affiliate",this.$tdPro))})}},computed:{columns(){return[{slug:"phrase",label:this.$t.__("Phrase",this.$tdPro)},{slug:"delete",width:"50px"}]},seeAllLinks(){return this.$t.sprintf(this.$t.__("See All %1$s %2$s Links",this.$tdPro),this.post.links.affiliate.totals.total,this.$t.__("Affiliate",this.$tdPro))}},methods:{processPagination(t){this.pageNumber=t,!this.metabox&&(this.wpTableLoading=!0,this.processFetchTableData().then(()=>this.wpTableLoading=!1))}}},Tt={key:0,class:"links-bottom"},Lt={class:"links-bottom-left"},Ct={key:0},Mt={class:"links-bottom-right"};function Bt(t,s,e,l,n,o){const k=u("link-assistant-phrase"),c=u("svg-trash"),_=u("core-tooltip"),m=u("core-wp-table"),$=u("svg-link-external"),w=u("link-assistant-confirmation-modal");return r(),g("div",null,[(r(),v(m,{"bulk-options":l.bulkOptions,class:S({"link-assistant-inner-table":!t.postReport}),columns:o.columns,id:n.tableId,"initial-items-per-page":t.$aioseo.settings.tablePagination.linkAssistantPostsReport,"initial-page-number":t.pageNumber,key:t.wpTableKey,loading:t.wpTableLoading,rows:t.rows,"show-pagination":!t.linksReport,"show-search":!1,"show-table-footer":t.postReport,totals:t.post.links.affiliate.totals,"show-items-per-page":"",onPaginate:o.processPagination,onProcessBulkAction:t.maybeDoBulkAction,onProcessChangeItemsPerPage:t.processChangeItemsPerPage},{phrase:b(({row:d})=>[f(k,{phrase:d.phrase,phraseHtml:d.phrase_html,anchor:d.anchor,url:d.url,clickableAnchor:!0},null,8,["phrase","phraseHtml","anchor","url"])]),delete:b(({index:d})=>[f(_,{type:"action"},{tooltip:b(()=>[R(h(n.strings.deleteLink),1)]),default:b(()=>[f(c,{onClick:P=>t.maybeDoBulkAction({action:"delete",selectedRows:d})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","class","columns","id","initial-items-per-page","initial-page-number","loading","rows","show-pagination","show-table-footer","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage"])),t.postReport?p("",!0):(r(),g("div",Tt,[i("div",Lt,[t.post.links.affiliate.totals.total>5&&t.postReport?(r(),g("div",Ct,[f($),i("a",{class:"link-view",href:"#",onClick:s[0]||(s[0]=y(d=>t.openPostReport("affiliate"),["prevent"]))},h(o.seeAllLinks),1)])):p("",!0)]),i("div",Mt,[t.post.links.affiliate.rows.length?(r(),g("a",{key:0,class:"link-delete",onClick:s[1]||(s[1]=y(d=>t.maybeDoBulkAction({action:"delete",selectedRows:"all"}),["prevent"]))},h(n.strings.deleteAllLinks),1)):p("",!0)])])),t.showModal?(r(),v(w,{key:1,selectedRows:t.selectedRows,strings:l.modalStrings,onDoBulkAction:t.doBulkAction,onCloseModal:s[2]||(s[2]=d=>t.showModal=!1)},null,8,["selectedRows","strings","onDoBulkAction"])):p("",!0)])}const Xe=T(St,[["render",Bt]]),Et={setup(){const{strings:t,modalStrings:s,bulkOptions:e}=q();return{bulkOptions:e,modalStrings:s,composableStrings:t}},components:{CoreTooltip:D,CoreWpTable:B,LinkAssistantConfirmationModal:O,LinkAssistantPhrase:U,SvgLinkExternal:E,SvgTrash:x},mixins:[N,M],data(){return{tableId:"aioseo-post-report-external",linkType:"external",strings:C(this.composableStrings,{deleteAllLinks:this.$t.sprintf(this.$t.__("Delete All %1$s Links",this.$tdPro),this.$t.__("External",this.$tdPro))})}},computed:{columns(){return[{slug:"phrase",label:this.$t.__("Phrase",this.$tdPro)},{slug:"delete",width:"50px"}]},seeAllLinks(){return this.$t.sprintf(this.$t.__("See All %1$s %2$s Links",this.$tdPro),this.post.links.external.totals.total,this.$t.__("External",this.$tdPro))}},methods:{processPagination(t){this.pageNumber=t,!this.metabox&&(this.wpTableLoading=!0,this.processFetchTableData().then(()=>this.wpTableLoading=!1))}}},Ot={key:0,class:"links-bottom"},Dt={class:"links-bottom-left"},xt={key:0},Ht={class:"links-bottom-right"};function qt(t,s,e,l,n,o){const k=u("link-assistant-phrase"),c=u("svg-trash"),_=u("core-tooltip"),m=u("core-wp-table"),$=u("svg-link-external"),w=u("link-assistant-confirmation-modal");return r(),g("div",null,[(r(),v(m,{"bulk-options":l.bulkOptions,class:S({"link-assistant-inner-table":!t.postReport}),columns:o.columns,id:n.tableId,"initial-items-per-page":t.$aioseo.settings.tablePagination.linkAssistantPostsReport,"initial-page-number":t.pageNumber,key:t.wpTableKey,loading:t.wpTableLoading,rows:t.rows,"show-pagination":!t.linksReport,"show-search":!1,"show-table-footer":t.postReport,totals:t.post.links.external.totals,"show-items-per-page":"",onPaginate:o.processPagination,onProcessBulkAction:t.maybeDoBulkAction,onProcessChangeItemsPerPage:t.processChangeItemsPerPage},{phrase:b(({row:d})=>[f(k,{phrase:d.phrase,phraseHtml:d.phrase_html,anchor:d.anchor,url:d.url,clickableAnchor:!0},null,8,["phrase","phraseHtml","anchor","url"])]),delete:b(({index:d})=>[f(_,{type:"action"},{tooltip:b(()=>[R(h(n.strings.deleteLink),1)]),default:b(()=>[f(c,{onClick:P=>t.maybeDoBulkAction({action:"delete",selectedRows:d})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","class","columns","id","initial-items-per-page","initial-page-number","loading","rows","show-pagination","show-table-footer","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage"])),t.postReport?p("",!0):(r(),g("div",Ot,[i("div",Dt,[t.post.links.external.totals.total>5&&t.linksReport?(r(),g("div",xt,[f($),i("a",{class:"link-view",href:"#",onClick:s[0]||(s[0]=y(d=>t.openPostReport("external"),["prevent"]))},h(o.seeAllLinks),1)])):p("",!0)]),i("div",Ht,[t.post.links.external.rows.length?(r(),g("a",{key:0,class:"link-delete",onClick:s[1]||(s[1]=y(d=>t.maybeDoBulkAction({action:"delete",selectedRows:"all"}),["prevent"]))},h(n.strings.deleteAllLinks),1)):p("",!0)])])),t.showModal?(r(),v(w,{key:1,selectedRows:t.selectedRows,strings:l.modalStrings,onDoBulkAction:t.doBulkAction,onCloseModal:s[2]||(s[2]=d=>t.showModal=!1)},null,8,["selectedRows","strings","onDoBulkAction"])):p("",!0)])}const tn=T(Et,[["render",qt]]),Nt={setup(){const{strings:t,modalStrings:s,bulkOptions:e}=q();return{bulkOptions:e,modalStrings:s,composableStrings:t}},emits:["openSuggestions"],components:{CoreTooltip:D,CoreWpTable:B,LinkAssistantConfirmationModal:O,LinkAssistantPhrase:U,SvgLinkExternal:E,SvgLinkSuggestion:j,SvgTrash:x},mixins:[N,F,M],data(){return{tableId:"aioseo-post-report-inbound-internal",linkType:"inboundInternal",strings:C(this.composableStrings,{deleteAllLinks:this.$t.sprintf(this.$t.__("Delete All %1$s Links",this.$td),this.$t.__("Inbound Internal",this.$td)),outboundSuggestions:this.$t.sprintf(this.$t.__("%1$s Link Suggestions",this.$td),this.$t.__("Inbound",this.$td))})}},computed:{columns(){return[{slug:"post_title",label:this.$t.__("Post Title",this.$td)},{slug:"phrase",label:this.$t.__("Phrase",this.$td)},{slug:"delete",width:"50px"}]},seeAllLinks(){return this.$t.sprintf(this.$t.__("See All %1$s %2$s Links",this.$td),this.post.links.inboundInternal.totals.total,this.$t.__("Inbound Internal",this.$td))}},methods:{maybeViewPost(t){var s,e;this.viewPost(((e=(s=t.context)==null?void 0:s.postType)==null?void 0:e.singular)||"Post")},maybeEditPost(t){var s,e;this.editPost(((e=(s=t.context)==null?void 0:s.postType)==null?void 0:e.singular)||"Post")},processPagination(t){this.pageNumber=t,!this.metabox&&(this.wpTableLoading=!0,this.processFetchTableData().then(()=>this.wpTableLoading=!1))}}},Ut={key:0},Yt={key:0,class:"row-actions"},Ft={class:"view"},Kt=["href"],Vt={class:"edit"},zt=["href"],Wt={key:0,class:"links-bottom"},Gt={class:"links-bottom-left"},Zt={key:1},jt={class:"links-bottom-right"};function Jt(t,s,e,l,n,o){const k=u("link-assistant-phrase"),c=u("svg-trash"),_=u("core-tooltip"),m=u("core-wp-table"),$=u("svg-link-suggestion"),w=u("base-button"),d=u("svg-link-external"),P=u("link-assistant-confirmation-modal");return r(),g("div",null,[(r(),v(m,{"bulk-options":l.bulkOptions,class:S({"link-assistant-inner-table":!t.postReport}),columns:o.columns,id:n.tableId,"initial-items-per-page":t.$aioseo.settings.tablePagination.linkAssistantPostsReport,"initial-page-number":t.pageNumber,key:t.wpTableKey,loading:t.wpTableLoading,rows:t.rows,"show-pagination":!t.linksReport,"show-search":!1,"show-table-footer":t.postReport,totals:t.post.links.inboundInternal.totals,"show-items-per-page":"",onPaginate:o.processPagination,onProcessBulkAction:t.maybeDoBulkAction,onProcessChangeItemsPerPage:t.processChangeItemsPerPage},{post_title:b(({row:a})=>[i("span",null,[R(h(a.context.postTitle)+" ",1),a.context.permalink.replace(/\/$/,"")===t.$aioseo.urls.home?(r(),g("span",Ut,"("+h(n.strings.frontPage)+")",1)):p("",!0)]),a.context?(r(),g("div",Yt,[i("span",Ft,[i("a",{href:a.context.permalink,target:"_blank"},h(o.maybeViewPost(a)),9,Kt),R(" | ")]),i("span",Vt,[i("a",{href:a.context.editLink,target:"_blank"},h(o.maybeEditPost(a)),9,zt)])])):p("",!0)]),phrase:b(({row:a})=>[f(k,{phrase:a.phrase,phraseHtml:a.phrase_html||"",anchor:a.anchor,url:a.url,clickableAnchor:!0},null,8,["phrase","phraseHtml","anchor","url"])]),delete:b(({index:a})=>[f(_,{type:"action"},{tooltip:b(()=>[R(h(n.strings.deleteLink),1)]),default:b(()=>[f(c,{onClick:ot=>t.maybeDoBulkAction({action:"delete",selectedRows:a})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","class","columns","id","initial-items-per-page","initial-page-number","loading","rows","show-pagination","show-table-footer","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage"])),t.postReport?p("",!0):(r(),g("div",Wt,[i("div",Gt,[t.post.links.inboundInternal.rows.length?(r(),v(w,{key:0,type:"blue",tag:"button",onClick:s[0]||(s[0]=a=>t.$emit("openSuggestions"))},{default:b(()=>[f($),R(" "+h(n.strings.outboundSuggestions),1)]),_:1})):p("",!0),t.post.links.inboundInternal.totals.total>5&&t.linksReport?(r(),g("div",Zt,[f(d),i("a",{class:"link-view",href:"#",onClick:s[1]||(s[1]=y(a=>t.openPostReport("inbound-internal"),["prevent"]))},h(o.seeAllLinks),1)])):p("",!0)]),i("div",jt,[t.post.links.inboundInternal.rows.length?(r(),g("a",{key:0,class:"link-delete",onClick:s[2]||(s[2]=y(a=>t.maybeDoBulkAction({action:"delete",selectedRows:"all"}),["prevent"]))},h(n.strings.deleteAllLinks),1)):p("",!0)])])),t.showModal?(r(),v(P,{key:1,selectedRows:t.selectedRows,strings:l.modalStrings,onDoBulkAction:t.doBulkAction,onCloseModal:s[3]||(s[3]=a=>t.showModal=!1)},null,8,["selectedRows","strings","onDoBulkAction"])):p("",!0)])}const sn=T(Nt,[["render",Jt]]),Qt={setup(){const{strings:t,modalStrings:s,bulkOptions:e}=q();return{bulkOptions:e,modalStrings:s,composableStrings:t}},emits:["openSuggestions"],components:{CoreTooltip:D,CoreWpTable:B,LinkAssistantConfirmationModal:O,LinkAssistantPhrase:U,SvgLinkExternal:E,SvgLinkSuggestion:j,SvgTrash:x},mixins:[N,F,M],data(){return{tableId:"aioseo-post-report-outbound-internal",linkType:"outboundInternal",strings:C(this.composableStrings,{deleteAllLinks:this.$t.sprintf(this.$t.__("Delete All %1$s Links",this.$tdPro),this.$t.__("Outbound Internal",this.$tdPro)),outboundSuggestions:this.$t.sprintf(this.$t.__("%1$s Link Suggestions",this.$tdPro),this.$t.__("Outbound",this.$tdPro)),openUrl:this.$t.__("Open URL",this.$tdPro)})}},computed:{columns(){return[{slug:"post_title",label:this.$t.__("Post Title / URL",this.$tdPro)},{slug:"phrase",label:this.$t.__("Phrase",this.$tdPro)},{slug:"delete",width:"50px"}]},seeAllLinks(){return this.$t.sprintf(this.$t.__("See All %1$s %2$s Links",this.$tdPro),this.post.links.outboundInternal.totals.total,this.$t.__("Outbound Internal",this.$tdPro))}},methods:{processPagination(t){this.pageNumber=t,!this.metabox&&(this.wpTableLoading=!0,this.processFetchTableData().then(()=>this.wpTableLoading=!1))}}},Xt={key:0},ts={key:0},ss={key:1},es={key:0},ns={key:2,class:"row-actions"},os={class:"view"},is=["href"],rs={class:"edit"},ls=["href"],as={key:3,class:"row-actions"},us={class:"view"},ds=["href"],hs={key:0,class:"links-bottom"},ps={class:"links-bottom-left"},gs={key:1},cs={class:"links-bottom-right"};function ks(t,s,e,l,n,o){const k=u("link-assistant-phrase"),c=u("svg-trash"),_=u("core-tooltip"),m=u("core-wp-table"),$=u("svg-link-suggestion"),w=u("base-button"),d=u("svg-link-external"),P=u("link-assistant-confirmation-modal");return r(),g("div",null,[(r(),v(m,{"bulk-options":l.bulkOptions,class:S({"link-assistant-inner-table":!t.postReport}),columns:o.columns,id:n.tableId,"initial-items-per-page":t.$aioseo.settings.tablePagination.linkAssistantPostsReport,"initial-page-number":t.pageNumber,key:t.wpTableKey,loading:t.wpTableLoading,rows:t.rows,"show-pagination":!t.linksReport,"show-search":!1,"show-table-footer":t.postReport,totals:t.post.links.outboundInternal.totals,"show-items-per-page":"",onPaginate:o.processPagination,onProcessBulkAction:t.maybeDoBulkAction,onProcessChangeItemsPerPage:t.processChangeItemsPerPage},{post_title:b(({row:a})=>[a.context&&a.context.postTitle?(r(),g("span",Xt,[R(h(a.context.postTitle)+" ",1),a.url.replace(/\/$/,"")===t.$aioseo.urls.home?(r(),g("span",ts,"("+h(n.strings.frontPage)+")",1)):p("",!0)])):p("",!0),!a.context||!a.context.postTitle?(r(),g("span",ss,[R(h(a.url)+" ",1),a.url.replace(/\/$/,"")===t.$aioseo.urls.home?(r(),g("span",es,"("+h(n.strings.frontPage)+")",1)):p("",!0)])):p("",!0),a.context?(r(),g("div",ns,[i("span",os,[i("a",{href:a.url,target:"_blank"},h(t.viewPost(a.context.postType.singular)),9,is),R(" | ")]),i("span",rs,[i("a",{href:a.context.editLink,target:"_blank"},h(t.editPost(a.context.postType.singular)),9,ls)])])):p("",!0),a.context?p("",!0):(r(),g("div",as,[i("span",us,[i("a",{href:a.url,target:"_blank"},h(n.strings.openUrl),9,ds)])]))]),phrase:b(({row:a})=>[f(k,{phrase:a.phrase,phraseHtml:a.phrase_html,anchor:a.anchor,url:a.url,clickableAnchor:!0},null,8,["phrase","phraseHtml","anchor","url"])]),delete:b(({index:a})=>[f(_,{type:"action"},{tooltip:b(()=>[R(h(n.strings.deleteLink),1)]),default:b(()=>[f(c,{onClick:ot=>t.maybeDoBulkAction({action:"delete",selectedRows:a})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","class","columns","id","initial-items-per-page","initial-page-number","loading","rows","show-pagination","show-table-footer","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage"])),t.postReport?p("",!0):(r(),g("div",hs,[i("div",ps,[t.post.links.outboundInternal.rows.length?(r(),v(w,{key:0,type:"blue",tag:"button",onClick:s[0]||(s[0]=a=>t.$emit("openSuggestions"))},{default:b(()=>[f($),R(" "+h(n.strings.outboundSuggestions),1)]),_:1})):p("",!0),t.post.links.outboundInternal.totals.total>5&&t.linksReport?(r(),g("div",gs,[f(d),i("a",{class:"link-view",href:"#",onClick:s[1]||(s[1]=y(a=>t.openPostReport("outbound-internal"),["prevent"]))},h(o.seeAllLinks),1)])):p("",!0)]),i("div",cs,[t.post.links.outboundInternal.rows.length?(r(),g("a",{key:0,class:"link-delete",onClick:s[2]||(s[2]=y(a=>t.maybeDoBulkAction({action:"delete",selectedRows:"all"}),["prevent"]))},h(n.strings.deleteAllLinks),1)):p("",!0)])])),t.showModal?(r(),v(P,{key:1,selectedRows:t.selectedRows,strings:l.modalStrings,onDoBulkAction:t.doBulkAction,onCloseModal:s[3]||(s[3]=a=>t.showModal=!1)},null,8,["selectedRows","strings","onDoBulkAction"])):p("",!0)])}const en=T(Qt,[["render",ks]]),Y="aioseo-pro",st=()=>{const t={addLink:A("Add Link",Y),dismiss:A("Dismiss Suggestion",Y)};return{bulkOptions:[{label:A("Add Link",Y),value:"add"},{label:A("Description",Y),value:"dismiss"}],strings:t}},et={emits:["updatingLinks","linksUpdated"],mixins:[tt],props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!1},postId:{type:Number,required:!1},filteredSuggestionsOutbound:{type:Array,required:!1},postReport:{type:Boolean,default(){return!1}},linksReport:{type:Boolean,default(){return!1}},metabox:{type:Boolean,default(){return!1}}},beforeMount(){this.$bus.$on("updatingLinks",t=>{this.wpTableLoading=t}),this.pageNumber=this.suggestionType?this.linkAssistant.postReport[this.suggestionType].totals.page:1},data(){return{changeItemsPerPageSlug:"linkAssistantPostsReport",editablePhraseKey:0,activeSuggestionRow:-1,action:"",showModal:!1,selectedRows:[]}},computed:{...H(["linkAssistant","currentPost"]),rows(){if(!this.metabox)return this.post.links[this.suggestionType].rows;const t=this.pageNumber===1?0:(this.pageNumber-1)*10;return this.suggestionType==="suggestionsOutbound"?this.filteredSuggestionsOutbound.slice(t,t+10):this.post.links[this.suggestionType].rows.slice(t,t+10)},modalStrings(){return this.action==="add"?{areYouSureSingle:this.$t.__("Are you sure you want to add this suggestion?",this.$tdPro),areYouSureMultiple:this.$t.__("Are you sure you want to add these suggestions?",this.$tdPro),areYouSureAll:this.$t.__("Are you sure you want to add all suggestions?",this.$tdPro),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$tdPro),yesSingle:this.$t.__("Yes, I want to add this suggestion",this.$tdPro),yesMultiple:this.$t.__("Yes, I want to add these suggestions",this.$tdPro),yesAll:this.$t.__("Yes, I want to add all suggestions",this.$tdPro),noChangedMind:this.$t.__("No, I changed my mind",this.$tdPro)}:{areYouSureSingle:this.$t.__("Are you sure you want to dismiss this suggestion?",this.$tdPro),areYouSureMultiple:this.$t.__("Are you sure you want to dismiss these suggestions?",this.$tdPro),areYouSureAll:this.$t.__("Are you sure you want to dismiss all suggestions?",this.$tdPro),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$tdPro),yesSingle:this.$t.__("Yes, I want to dismiss this suggestion",this.$tdPro),yesMultiple:this.$t.__("Yes, I want to dismiss these suggestions",this.$tdPro),yesAll:this.$t.__("Yes, I want to dismiss all suggestions",this.$tdPro),noChangedMind:this.$t.__("No, I changed my mind",this.$tdPro)}}},methods:{...z("linkAssistant",["suggestionDismiss","suggestionsBulk","fetchPostReport","fetchLinksReportInner","postSettingsUpdate"]),fetchData(t){this.$bus.$emit("updatingLinks",!0);const s={...t,additionalFilters:{postId:this.post.ID||this.currentPost.id,postIndex:this.postIndex,type:this.suggestionType}},e=this.postReport?"fetchPostReport":"fetchLinksReportInner";return this[e](s).finally(()=>{this.$bus.$emit("updatingLinks",!1)})},toggleShowMorePhrases(t){if(this.activeSuggestionRow===t){this.activeSuggestionRow=-1;return}this.activeSuggestionRow=t},toggleShowMorePostTitles(t){if(this.activeSuggestionRow===t){this.activeSuggestionRow=-1;return}this.activeSuggestionRow=t},openPostReport(t,s){window.location.href=`#/post-report?postId=${this.postId}&postIndex=${this.postIndex}&initialTab=${t}&initialSuggestionTab=${s}`},saveModifiedPhrase(t){let s=null;this.linksReport&&(s=this.linkAssistant.linksReport.rows[this.postIndex].links[this.suggestionType].rows[t.postIndex]),this.postReport&&(s=this.linkAssistant.postReport[this.suggestionType].rows[t.postIndex]),this.metabox&&(s=this.currentPost.linkAssistant.links[this.suggestionType].rows[t.postIndex]),s.suggestions[t.phraseIndex].phrase_html!==t.phraseHtml&&(s.suggestions[t.phraseIndex].phrase=t.phrase,s.suggestions[t.phraseIndex].phrase_html=t.phraseHtml,s.suggestions[t.phraseIndex].anchor=t.anchor)},addLink(t,s){let e=null;if(this.suggestionType==="suggestionsInbound"){const n=`editablePhrase${s}`;e=this.$refs[n].selectedPhrase}if(this.suggestionType==="suggestionsOutbound"&&(e=this.selectedPostTitleIndex),e===!1||typeof e>"u"){console.error("Couldn't determine index of suggestion.");return}if(this.suggestionType==="suggestionsOutbound"){const n=I(t.suggestions[0].context.permalink),o=I(t.suggestions[e].context.permalink),k=new RegExp(`/${n}/`,"i"),c=t.suggestions[0].phrase_html.replace(k,o);t.suggestions[e].phrase_html=c,t.suggestions[e].anchor=t.suggestions[0].anchor}const l=t.suggestions[e];t.suggestions[e]=t.suggestions[0],t.suggestions[0]=l,this.maybeDoBulkAction({action:"add",selectedRows:t})},maybeDoBulkAction({action:t,selectedRows:s}){s===!1||s===void 0||!t||(this.action=t,this.selectedRows=s,this.showModal=!0)},doBulkAction(){if(this.showModal=!1,!this.selectedRows)return;if(this.action==="dismiss"&&typeof this.selectedRows=="number"){this.doDismissSuggestion(this.selectedRows);return}if(this.selectedRows==="all"){this.$bus.$emit("updatingLinks",!0),this.suggestionsBulk({postIndex:this.postIndex,postId:this.post.ID||this.currentPost.id,action:this.action,suggestionType:this.suggestionType,suggestionRows:"all",linksReport:this.linksReport,postReport:this.postReport}).finally(()=>{this.$bus.$emit("updatingLinks",!1),this.$emit("linksUpdated"),this.refreshTable()});return}let t=null;if(this.linksReport&&(t=this.linkAssistant.linksReport.rows[this.postIndex].links[this.suggestionType].rows),this.postReport&&(t=this.linkAssistant.postReport[this.suggestionType].rows),this.metabox){if(this.action==="add"&&this.suggestionType!=="suggestionsInbound"){if(this.$bus.$emit("updatingLinks",!0),Array.isArray(this.selectedRows))this.selectedRows.forEach(e=>{this.editorAddSuggestion(e)});else{const e=this.selectedRows;this.editorAddSuggestion(e)}this.$bus.$emit("updatingLinks",!1);return}t=this.currentPost.linkAssistant.links[this.suggestionType].rows}const s=[];Array.isArray(this.selectedRows)?this.selectedRows.forEach(e=>{s.push(t[e])}):s.push(this.selectedRows),this.$bus.$emit("updatingLinks",!0),this.suggestionsBulk({postIndex:this.postIndex,postId:this.post.ID||this.currentPost.id,action:this.action,suggestionType:this.suggestionType,suggestionRows:s,linksReport:this.linksReport,postReport:this.postReport}).finally(()=>{this.$bus.$emit("updatingLinks",!1),this.$emit("linksUpdated"),this.refreshTable()})},doDismissSuggestion(t){this.$bus.$emit("updatingLinks",!0),this.suggestionDismiss({postIndex:this.postIndex,postId:this.post.ID||this.currentPost.id,suggestionId:t,linksReport:this.linksReport,postReport:this.postReport}).finally(()=>{this.$bus.$emit("updatingLinks",!1),this.$emit("linksUpdated"),this.refreshTable()})},editorAddSuggestion(t){K()&&this.blockEditorAddSuggestion(t),V()&&this.classicEditorAddSuggestion(t)},blockEditorAddSuggestion(t){let s=null,e=null;if(isNaN(t)?this.rows.forEach((w,d)=>{w.suggestions[0].id===t.suggestions[0].id&&(s=w,e=d)}):(e=t,s=this.rows[t]),!s||e===!1)return;this.$bus.$emit("updatingLinks",!0);const l=window.wp.data.select("core/block-editor").getBlocks(),n=s.suggestions[0].original_phrase_html.trim(),o=this.findTargetBlock(l,n);if(!o){this.$bus.$emit("updatingLinks",!1);return}const k=window.wp.data.select("core/block-editor").getBlock(o);if(!k){this.$bus.$emit("updatingLinks",!1);return}const c=I(s.suggestions[0].anchor.trim());let _=new RegExp(`(${c})`,"i");const m=s.suggestions[0].phrase_html.trim(),$=I(n);_=new RegExp(`(${$})`,"i"),window.wp.data.dispatch("core/block-editor").updateBlockAttributes(o,{content:k.attributes.content.replace(_,m)}).then(()=>{this.rows.splice(e,1)}).catch(w=>{console.error("Couldn't add outbound link:",w)}).finally(()=>{this.postSettingsUpdate({postContent:window.wp.data.select("core/editor").getEditedPostContent(),skipNextRun:!0})})},classicEditorAddSuggestion(t){let s=null,e=null;if(isNaN(t)?this.rows.forEach((w,d)=>{w.suggestions[0].id===t.suggestions[0].id&&(s=w,e=d)}):(e=t,s=this.rows[t]),!s||e===!1)return;this.$bus.$emit("updatingLinks",!0);let l="",n=null,o=null;if(document.querySelector("#wp-content-wrap.tmce-active")?(n=window.tinyMCE.get("content"),l=n.getContent({format:"raw"})):(o=document.querySelector("textarea#content"),l=o?o.value:""),!l){this.$bus.$emit("updatingLinks",!1);return}const k=s.suggestions[0].original_phrase_html.trim(),c=I(k),_=I(s.suggestions[0].anchor.trim());let m=new RegExp(`(${_})`,"i");const $=s.suggestions[0].phrase_html.trim();m=new RegExp(`(${c})`,"i"),l=l.replace(m,$),n?n.setContent(l):o.value=l,this.rows.splice(e,1),this.postSettingsUpdate({postContent:l,skipNextRun:!0}).finally(()=>{this.$bus.$emit("updatingLinks",!1)})}}};const ms={emits:["saveEditor","closeEditor"],components:{BaseEditor:kt},props:{phrase:{type:String,required:!0},url:{type:String,required:!0},context:{type:String,required:!1}},data(){return{strings:{saveChanges:this.$t.__("Save Changes",this.$tdPro),cancel:this.$t.__("Cancel",this.$tdPro),context:this.$t.__("Context",this.$tdPro)}}},mounted(){this.$refs.linkEditor.setPhrase(this.phrase);const t=document.querySelector(".ql-autoLink");t&&(t.innerHTML='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"></line><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"></path><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"></path></svg>',t.classList.add("ql-disabled"))},methods:{getPhrase(){return this.$refs.linkEditor.getPhrase()},getPhraseHtml(){return this.$refs.linkEditor.getPhraseHtml()},getPhraseWithFormats(){return this.$refs.linkEditor.getPhraseWithFormats()},selectionChange({range:t,source:s}){const e=document.querySelector(".ql-autoLink");e&&(!t||!t.length||s!=="user")?e.classList.add("ql-disabled"):e.classList.remove("ql-disabled")}}},bs={class:"aioseo-phrase-editor"},fs={key:0,class:"context"},_s={class:"context-label"},ws=["innerHTML"],$s={class:"action-buttons"};function vs(t,s,e,l,n,o){const k=u("base-editor"),c=u("base-button");return r(),g("div",bs,[e.context?(r(),g("div",fs,[i("p",null,[i("strong",_s,h(n.strings.context)+":",1)]),i("p",{innerHTML:e.context},null,8,ws)])):p("",!0),f(k,{ref:"linkEditor","auto-link":{url:e.url,phrase:e.phrase},"show-toolbar":"","allow-tags":"","onUpdate:modelValue":s[0]||(s[0]=_=>t.$emit("update:modelValue",_)),onSelectionChange:o.selectionChange},null,8,["auto-link","onSelectionChange"]),i("div",$s,[f(c,{type:"blue",size:"small",onClick:s[1]||(s[1]=_=>t.$emit("saveEditor"))},{default:b(()=>[R(h(n.strings.saveChanges),1)]),_:1}),f(c,{type:"gray",size:"small",onClick:s[2]||(s[2]=_=>t.$emit("closeEditor"))},{default:b(()=>[R(h(n.strings.cancel),1)]),_:1})])])}const Ps=T(ms,[["render",vs]]);const ys={emits:["toggleShowMorePhrases","saveModifiedPhrase","delete"],components:{LinkAssistantPhrase:U,LinkAssistantPhraseEditor:Ps,SvgCaret:J,SvgPencil:ct,SvgTrash:x,TransitionSlide:Q},props:{row:{type:Object,required:!0},rowIndex:{type:Number,default:0},activeRow:{type:Number,default:-1},postIndex:{type:Number,required:!1},suggestionType:{type:String,required:!1},selectedPostTitleIndex:{type:Number,required:!1,default(){return 0}},linkSuggestion:{type:Boolean,default(){return!1}},domainsReport:{type:Boolean,default(){return!1}}},data(){return{phraseIndex:-1,showEditor:-1,hoveringOver:-1,selectedPhrase:0}},computed:{...H(["linkAssistant","currentPost"]),phrases(){return this.linkSuggestion?this.row.suggestions.slice(0,10):this.row.links.slice(0,10)},url(){return this.domainsReport?this.phrases[this.phraseIndex].url:this.suggestionType==="suggestionsInbound"?this.row.context.permalink:this.suggestionType==="suggestionsOutbound"?this.row.suggestions[this.selectedPostTitleIndex].context.permalink:""},showingMorePhrases(){return 1<this.phrases.length&&this.activeRow===this.rowIndex},viewMorePhrasesLabel(){const t=1<this.phrases.length?this.phrases.length-1:0;return this.$t.sprintf(this.$t._n("%1$d more phrase","%1$d more phrases",t,this.$tdPro),t)},phraseContext(){let t="",s="";if(this.linkSuggestion){const n=this.row.suggestions[this.phraseIndex];t=n.phrase.trim(),s=n.paragraph.trim()}else{const n=this.row.links[this.phraseIndex];t=n.phrase.trim(),s=n.paragraph.trim()}if(t===s)return"";const e=I(t),l=new RegExp(e,"i");return s.match(l)&&(s=s.replace(l,`<strong>${t}</strong>`)),s}},methods:{tooltipUrl(t,s){return this.domainsReport?s.url:this.suggestionType==="suggestionsInbound"?t.permalink:this.suggestionType==="suggestionsOutbound"&&t.suggestions[this.selectedPostTitleIndex]?t.suggestions[this.selectedPostTitleIndex].context.permalink:""},openEditor(t,s){this.phraseIndex=s,this.showEditor=t},processModifiedPhrase(){this.showEditor=-1,this.hoveringOver=-1;const t=this.$refs.linkEditor.getPhrase(),s=this.$refs.linkEditor.getPhraseHtml(),e=this.$refs.linkEditor.getPhraseWithFormats();let l="";e.ops.forEach(n=>{n.attributes&&n.attributes.link&&(l=l+n.insert)}),l&&this.$emit("saveModifiedPhrase",{phrase:t,phraseHtml:s,anchor:l,postIndex:this.rowIndex,phraseIndex:this.phraseIndex})},deleteLink(t,s,e){t.stopPropagation(),t.preventDefault(),this.$emit("delete",{postIndex:s,linkIndex:e})}}},Rs={class:"aioseo-editable-phrase"},As={class:"domains-report-editable-phrase"},Is={key:0},Ss=["checked"],Ts={class:"icons"},Ls={key:0,class:"show-more-phrases"},Cs=["onClick"],Ms=["checked","onClick"],Bs={class:"icons"};function Es(t,s,e,l,n,o){const k=u("svg-pencil"),c=u("svg-trash"),_=u("link-assistant-phrase"),m=u("svg-caret"),$=u("transition-slide"),w=u("link-assistant-phrase-editor");return r(),g("div",Rs,[i("div",As,[n.showEditor!==e.rowIndex?(r(),g("div",Is,[i("div",{class:"editable-phrase first-phrase",onClick:s[4]||(s[4]=d=>o.openEditor(e.rowIndex,0))},[e.linkSuggestion&&o.showingMorePhrases&&e.suggestionType!=="suggestionsOutbound"?(r(),g("input",{key:0,type:"radio",checked:n.selectedPhrase===0,onClick:s[0]||(s[0]=y(d=>n.selectedPhrase=0,["stop"]))},null,8,Ss)):p("",!0),f(_,{url:o.tooltipUrl(e.row,o.phrases[0]),phrase:o.phrases[0].phrase,phraseHtml:o.phrases[0].phrase_html,anchor:o.phrases[0].anchor,class:S({hover:n.hoveringOver===0}),onMouseOver:s[2]||(s[2]=d=>n.hoveringOver=0),onMouseLeave:s[3]||(s[3]=d=>n.hoveringOver=-1)},{icons:b(()=>[i("span",Ts,[f(k),e.domainsReport?(r(),v(c,{key:0,onClick:s[1]||(s[1]=d=>o.deleteLink(d,e.rowIndex,0))})):p("",!0)])]),_:1},8,["url","phrase","phraseHtml","anchor","class"])]),e.suggestionType!=="suggestionsOutbound"&&1<o.phrases.length&&n.showEditor!==e.rowIndex?(r(),g("div",Ls,[i("a",{href:"#",onClick:s[5]||(s[5]=y(d=>{t.$emit("toggleShowMorePhrases",e.rowIndex),n.selectedPhrase=0},["prevent"]))},[i("div",null,h(o.viewMorePhrasesLabel),1),f(m,{class:S({rotated:o.showingMorePhrases})},null,8,["class"])])])):p("",!0),f($,{class:"phrases-list",tag:"div",active:o.showingMorePhrases&&e.suggestionType!=="suggestionsOutbound"},{default:b(()=>[(r(!0),g(G,null,Z(o.phrases,(d,P)=>(r(),g("div",{class:"editable-phrase-container",key:P},[P?(r(),g("div",{key:0,class:"editable-phrase selectable-phrase",onClick:a=>o.openEditor(e.rowIndex,P)},[e.linkSuggestion&&o.showingMorePhrases?(r(),g("input",{key:0,type:"radio",checked:P===n.selectedPhrase,onClick:y(a=>n.selectedPhrase=P,["stop"])},null,8,Ms)):p("",!0),f(_,{url:o.tooltipUrl(e.row,o.phrases[0]),phrase:d.phrase,phraseHtml:d.phrase_html,anchor:d.anchor,class:S({hover:P===n.hoveringOver}),onMouseOver:a=>n.hoveringOver=P,onMouseLeave:s[6]||(s[6]=a=>n.hoveringOver=-1)},{icons:b(()=>[i("div",Bs,[f(k),e.domainsReport?(r(),v(c,{key:0,onClick:a=>o.deleteLink(a,e.rowIndex,P)},null,8,["onClick"])):p("",!0)])]),_:2},1032,["url","phrase","phraseHtml","anchor","class","onMouseOver"])],8,Cs)):p("",!0)]))),128))]),_:1},8,["active"])])):p("",!0),n.showEditor===e.rowIndex?(r(),v(w,{key:1,ref:"linkEditor",modelValue:o.phrases[this.phraseIndex].phrase,phrase:o.phrases[this.phraseIndex].phrase_html,url:o.url,context:o.phraseContext,onSaveEditor:o.processModifiedPhrase,onCloseEditor:s[7]||(s[7]=d=>{n.showEditor=-1,n.hoveringOver=-1})},null,8,["modelValue","phrase","url","context","onSaveEditor"])):p("",!0)])])}const nt=T(ys,[["render",Es]]),Os={setup(){const{strings:t,bulkOptions:s}=st();return{bulkOptions:s,composableStrings:t}},components:{CoreWpTable:B,LinkAssistantConfirmationModal:O,LinkAssistantEditablePhrase:nt,SvgCirclePlus:X,SvgLinkExternal:E},mixins:[F,et,M],data(){return{tableId:"aioseo-post-report-inbound-suggestions",suggestionType:"suggestionsInbound",strings:C(this.composableStrings,{dismissAllSuggestions:this.$t.sprintf(this.$t.__("Dismiss All %1$s Suggestions",this.$tdPro),this.$t.__("Inbound Internal",this.$tdPro)),noSuggestions:this.$t.sprintf(this.$t.__("You currently don't have any %1$s Suggestions!",this.$tdPro),this.$t.__("Inbound Internal",this.$tdPro))})}},computed:{columns(){return[{slug:"post_title",label:this.$t.__("Post Title",this.$tdPro)},{slug:"spacer",width:"30px"},{slug:"phrase",label:this.$t.__("Phrase",this.$tdPro)},{slug:"add_link",width:"150px"}]},seeAllSuggestions(){return this.$t.sprintf(this.$t.__("See All %1$s %2$s Suggestions",this.$tdPro),this.post.links.suggestionsInbound.totals.total,this.$t.__("Inbound Internal",this.$tdPro))}},methods:{processPagination(t){this.pageNumber=t,!this.metabox&&(this.wpTableLoading=!0,this.processFetchTableData().then(()=>this.wpTableLoading=!1))}}},Ds={class:"aioseo-link-suggestions-Inbound"},xs=["href"],Hs={class:"row-actions"},qs={class:"view"},Ns=["href"],Us={class:"edit"},Ys=["href"],Fs={class:"dismiss"},Ks=["onClick"],Vs=["onClick"],zs={key:0,class:"links-bottom"},Ws={class:"links-bottom-left"},Gs={key:0},Zs={class:"links-bottom-right"};function js(t,s,e,l,n,o){const k=u("link-assistant-editable-phrase"),c=u("svg-circle-plus"),_=u("core-wp-table"),m=u("svg-link-external"),$=u("link-assistant-confirmation-modal");return r(),g("div",Ds,[(r(),v(_,{"bulk-options":l.bulkOptions,class:S({"link-assistant-inner-table":!t.postReport}),columns:o.columns,id:n.tableId,"initial-items-per-page":t.$aioseo.settings.tablePagination.linkAssistantPostsReport,"initial-page-number":t.pageNumber,key:t.wpTableKey,loading:t.wpTableLoading,rows:t.rows,"show-pagination":!t.linksReport,"show-search":!1,"show-table-footer":t.postReport,totals:t.post.links.suggestionsInbound.totals,"show-items-per-page":"",onPaginate:o.processPagination,onProcessBulkAction:t.maybeDoBulkAction,onProcessChangeItemsPerPage:t.processChangeItemsPerPage},{post_title:b(({row:w})=>[i("strong",null,[i("a",{class:"edit-link",href:w.context.permalink,target:"_blank"},h(w.context.postTitle),9,xs)]),i("div",Hs,[i("span",qs,[i("a",{href:w.context.permalink,target:"_blank"},h(t.viewPost(w.context.postType.singular)),9,Ns),R(" | ")]),i("span",Us,[i("a",{href:w.context.editLink,target:"_blank"},h(t.editPost(w.context.postType.singular)),9,Ys),R(" | ")]),i("span",Fs,[i("a",{href:"#",onClick:y(d=>t.maybeDoBulkAction({action:"dismiss",selectedRows:w}),["prevent"])},h(n.strings.dismiss),9,Ks)])])]),phrase:b(({row:w,index:d})=>[f(k,{ref:"editablePhrase"+d,row:w,rowIndex:d,activeRow:t.activeSuggestionRow,postIndex:t.postIndex,suggestionType:n.suggestionType,linkSuggestion:"",onHidePhrases:s[0]||(s[0]=P=>{t.activeSuggestionRow=-1}),onToggleShowMorePhrases:t.toggleShowMorePhrases,onSaveModifiedPhrase:t.saveModifiedPhrase},null,8,["row","rowIndex","activeRow","postIndex","suggestionType","onToggleShowMorePhrases","onSaveModifiedPhrase"])]),add_link:b(({row:w,index:d})=>[i("div",{class:"add-link",onClick:y(P=>t.addLink(w,d),["prevent"])},[f(c),i("a",null,h(n.strings.addLink),1)],8,Vs)]),_:1},8,["bulk-options","class","columns","id","initial-items-per-page","initial-page-number","loading","rows","show-pagination","show-table-footer","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage"])),t.postReport?p("",!0):(r(),g("div",zs,[i("div",Ws,[t.post.links.suggestionsInbound.totals.total>5&&t.linksReport?(r(),g("div",Gs,[f(m),i("a",{class:"link-view",href:"#",onClick:s[1]||(s[1]=y(w=>t.openPostReport("link-suggestions","suggestions-inbound"),["prevent"]))},h(o.seeAllSuggestions),1)])):p("",!0)]),i("div",Zs,[t.post.links.suggestionsInbound.rows.length?(r(),g("a",{key:0,class:"link-delete",onClick:s[2]||(s[2]=y(w=>t.maybeDoBulkAction({action:"dismiss",selectedRows:"all"}),["prevent"]))},h(n.strings.dismissAllSuggestions),1)):p("",!0)])])),t.showModal?(r(),v($,{key:1,strings:t.modalStrings,selectedRows:t.selectedRows,onCloseModal:s[3]||(s[3]=w=>t.showModal=!1),onDoBulkAction:t.doBulkAction},null,8,["strings","selectedRows","onDoBulkAction"])):p("",!0)])}const Js=T(Os,[["render",js]]);const Qs={emits:["toggleShowMorePhrases","postTitleIndexChanged"],components:{SvgCaret:J,TransitionSlide:Q},mixins:[F],props:{row:{type:Object,required:!0},rowIndex:{type:Number,default:0},activeRow:{type:Number,default:-1},postIndex:{type:Number,required:!1},suggestionType:{type:String,required:!1}},data(){return{selectedPostTitleIndex:-1,hoveringOver:-1}},computed:{...H(["linkAssistant","currentPost"]),postTitles(){const t=[];return this.row.suggestions.forEach(s=>{t.includes[s.context.postTitle]||t.push(s.context.postTitle)}),t.slice(0,10)},showingMorePostTitles(){return 1<this.postTitles.length&&this.activeRow===this.rowIndex},viewMorePostTitlesLabel(){const t=1<this.postTitles.length?this.postTitles.length-1:0;return this.$t.sprintf(this.$t._n("%1$d more post","%1$d more posts",t,this.$tdPro),t)}},methods:{selectDifferentPostTitle(t){this.selectedPostTitleIndex!==t&&(this.selectedPostTitleIndex=t,this.$emit("postTitleIndexChanged",t))}}},Xs={class:"aioseo-post-title-selector"},te=["checked"],se={class:"post-title-text"},ee={class:"view"},ne=["href"],oe={class:"edit"},ie=["href"],re={key:0,class:"show-more-post-titles"},le=["onMouseover"],ae=["checked","onClick"],ue={class:"post-title-text"},de={class:"view"},he=["href"],pe={class:"edit"},ge=["href"];function ce(t,s,e,l,n,o){const k=u("svg-caret"),c=u("transition-slide");return r(),g("div",Xs,[i("div",{class:"post-title first-post-title",onMouseover:s[1]||(s[1]=_=>n.hoveringOver=0),onMouseleave:s[2]||(s[2]=_=>n.hoveringOver=-1)},[o.showingMorePostTitles?(r(),g("input",{key:0,type:"radio",checked:n.selectedPostTitleIndex===0,onClick:s[0]||(s[0]=y(_=>o.selectDifferentPostTitle(0),["stop"]))},null,8,te)):p("",!0),i("span",se,h(o.postTitles[0]),1),i("div",{class:S(["row-actions",{hover:n.hoveringOver===0}])},[i("span",ee,[i("a",{href:e.row.suggestions[0].context.permalink,target:"_blank"},h(t.viewPost(e.row.suggestions[0].context.postType.singular)),9,ne),R(" | ")]),i("span",oe,[i("a",{href:e.row.suggestions[0].context.editLink,target:"_blank"},h(t.editPost(e.row.suggestions[0].context.postType.singular)),9,ie)])],2)],32),1<o.postTitles.length?(r(),g("div",re,[i("a",{href:"#",onClick:s[3]||(s[3]=y(_=>{t.$emit("toggleShowMorePhrases",e.rowIndex),o.selectDifferentPostTitle(0)},["prevent"]))},[i("div",null,h(o.viewMorePostTitlesLabel),1),f(k,{class:S({rotated:o.showingMorePostTitles})},null,8,["class"])])])):p("",!0),f(c,{class:"post-titles-list",tag:"div",active:o.showingMorePostTitles},{default:b(()=>[(r(!0),g(G,null,Z(o.postTitles,(_,m)=>(r(),g("div",{class:"post-title post-title-container",key:m},[m?(r(),g("div",{key:0,class:"selectable-post-title",onMouseover:$=>n.hoveringOver=m,onMouseleave:s[4]||(s[4]=$=>n.hoveringOver=-1)},[o.showingMorePostTitles?(r(),g("input",{key:0,type:"radio",checked:m===n.selectedPostTitleIndex,onClick:y($=>o.selectDifferentPostTitle(m),["stop"])},null,8,ae)):p("",!0),i("span",ue,h(o.postTitles[m]),1),i("div",{class:S(["row-actions",{hover:m===n.hoveringOver}])},[i("span",de,[i("a",{href:e.row.suggestions[m].context.permalink,target:"_blank"},h(t.viewPost(e.row.suggestions[m].context.postType.singular)),9,he),R(" | ")]),i("span",pe,[i("a",{href:e.row.suggestions[m].context.editLink,target:"_blank"},h(t.editPost(e.row.suggestions[m].context.postType.singular)),9,ge)])],2)],40,le)):p("",!0)]))),128))]),_:1},8,["active"])])}const ke=T(Qs,[["render",ce]]),me={setup(){const{strings:t,bulkOptions:s}=st();return{bulkOptions:s,composableStrings:t}},components:{CoreWpTable:B,LinkAssistantConfirmationModal:O,LinkAssistantEditablePhrase:nt,LinkAssistantPostTitleSelector:ke,SvgCirclePlus:X,SvgLinkExternal:E},mixins:[et,M],data(){return{tableId:"aioseo-post-report-outbound-suggestions",suggestionType:"suggestionsOutbound",selectedPostTitleIndex:0,strings:C(this.composableStrings,{dismissAllSuggestions:this.$t.sprintf(this.$t.__("Dismiss All %1$s Suggestions",this.$tdPro),this.$t.__("Outbound Internal",this.$tdPro)),noSuggestions:this.$t.sprintf(this.$t.__("You currently don't have any %1$s Suggestions!",this.$tdPro),this.$t.__("Outbound Internal",this.$tdPro))})}},computed:{columns(){return[{slug:"phrase",label:this.$t.__("Phrase",this.$tdPro)},{slug:"spacer",width:"30px"},{slug:"post_title",label:this.$t.__("Post Title",this.$tdPro)},{slug:"add_link",width:"150px"}]},seeAllSuggestions(){return this.$t.sprintf(this.$t.__("See All %1$s %2$s Suggestions",this.$tdPro),this.post.links.suggestionsOutbound.totals.total,this.$t.__("Outbound Internal",this.$tdPro))}},methods:{processPagination(t){this.pageNumber=t,!this.metabox&&(this.wpTableLoading=!0,this.processFetchTableData().then(()=>this.wpTableLoading=!1))}}},be={class:"aioseo-link-suggestions-outbound"},fe={class:"row-actions"},_e={class:"dismiss"},we=["onClick"],$e=["onClick"],ve={key:0,class:"links-bottom"},Pe={class:"links-bottom-left"},ye={key:0},Re={class:"links-bottom-right"};function Ae(t,s,e,l,n,o){const k=u("link-assistant-post-title-selector"),c=u("link-assistant-editable-phrase"),_=u("svg-circle-plus"),m=u("core-wp-table"),$=u("svg-link-external"),w=u("link-assistant-confirmation-modal");return r(),g("div",be,[(r(),v(m,{"bulk-options":l.bulkOptions,class:S({"link-assistant-inner-table":!t.postReport}),columns:o.columns,id:n.tableId,"initial-items-per-page":t.$aioseo.settings.tablePagination.linkAssistantPostsReport,"initial-page-number":t.pageNumber,key:t.wpTableKey,loading:t.wpTableLoading,rows:t.rows,"show-pagination":!t.linksReport,"show-search":!1,"show-table-footer":t.postReport,totals:t.post.links.suggestionsOutbound.totals,"show-items-per-page":"",onPaginate:o.processPagination,onProcessBulkAction:t.maybeDoBulkAction,onProcessChangeItemsPerPage:t.processChangeItemsPerPage},{post_title:b(({row:d,index:P})=>[f(k,{ref:"postTitleSelector"+P,row:d,rowIndex:P,activeRow:t.activeSuggestionRow,postIndex:t.postIndex,suggestionType:n.suggestionType,linkSuggestion:"",onHidePhrases:s[0]||(s[0]=a=>{t.activeSuggestionRow=-1}),onToggleShowMorePhrases:t.toggleShowMorePhrases,onSaveModifiedPhrase:t.saveModifiedPhrase,onPostTitleIndexChanged:s[1]||(s[1]=a=>n.selectedPostTitleIndex=a)},null,8,["row","rowIndex","activeRow","postIndex","suggestionType","onToggleShowMorePhrases","onSaveModifiedPhrase"])]),phrase:b(({row:d,index:P})=>[f(c,{row:d,rowIndex:P,activeRow:t.activeSuggestionRow,postIndex:t.postIndex,suggestionType:n.suggestionType,selectedPostTitleIndex:n.selectedPostTitleIndex,linkSuggestion:"",onHidePhrases:s[2]||(s[2]=a=>{t.activeSuggestionRow=-1}),onSaveModifiedPhrase:t.saveModifiedPhrase},null,8,["row","rowIndex","activeRow","postIndex","suggestionType","selectedPostTitleIndex","onSaveModifiedPhrase"]),i("div",fe,[i("span",_e,[i("a",{href:"#",onClick:y(a=>t.maybeDoBulkAction({action:"dismiss",selectedRows:d}),["prevent"])},h(n.strings.dismiss),9,we)])])]),add_link:b(({row:d,index:P})=>[i("div",{class:"add-link",onClick:y(a=>t.addLink(d,P),["prevent"])},[f(_),i("a",null,h(n.strings.addLink),1)],8,$e)]),_:1},8,["bulk-options","class","columns","id","initial-items-per-page","initial-page-number","loading","rows","show-pagination","show-table-footer","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage"])),t.postReport?p("",!0):(r(),g("div",ve,[i("div",Pe,[t.post.links.suggestionsOutbound.totals.total>5&&t.linksReport?(r(),g("div",ye,[f($),i("a",{class:"link-view",href:"#",onClick:s[3]||(s[3]=y(d=>t.openPostReport("link-suggestions","suggestions-outbound"),["prevent"]))},h(o.seeAllSuggestions),1)])):p("",!0)]),i("div",Re,[t.filteredSuggestionsOutbound.length?(r(),g("a",{key:0,class:"link-delete",onClick:s[4]||(s[4]=y(d=>t.maybeDoBulkAction({action:"dismiss",selectedRows:"all"}),["prevent"]))},h(n.strings.dismissAllSuggestions),1)):p("",!0)])])),t.showModal?(r(),v(w,{key:1,strings:t.modalStrings,selectedRows:t.selectedRows,onCloseModal:s[5]||(s[5]=d=>t.showModal=!1),onDoBulkAction:t.doBulkAction},null,8,["strings","selectedRows","onDoBulkAction"])):p("",!0)])}const Ie=T(me,[["render",Ae]]);const Se={setup(){const{strings:t,modalStrings:s,bulkOptions:e}=q();return{bulkOptions:e,modalStrings:s,composableStrings:t}},emits:["linksUpdated","suggestionsTabChanged"],components:{CoreAlert:ut,CoreMainTabs:ht,Inbound:Js,Outbound:Ie,SvgLinkInternalInbound:lt,SvgLinkInternalOutbound:at},mixins:[N],props:{filteredSuggestionsOutbound:{type:Array,required:!0},initialTab:{type:String,required:!1},showAlert:{type:Boolean,default(){return!1}}},data(){return{tabsKey:0,activeTab:"suggestions-inbound",strings:C(this.composableStrings,{description:this.$t.sprintf(this.$t.__("Below you can add inbound and outbound internal links based on %1$s's smart suggestions. These suggestions are generated in the background, which requires some time to complete. %2$s",this.$tdPro),"AIOSEO",this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"linkAssistant",!0))})}},computed:{...H("linkAssistant",["internalOptions"]),...dt("linkAssistant",["getLinksReportCounts"]),tabs(){return[{slug:"suggestions-inbound",icon:"svg-link-internal-inbound",name:this.$t.sprintf("%1$s %2$s",this.metabox?this.post.links.suggestionsInbound.totals.total:this.getLinksReportCounts[this.postIndex].suggestionsInbound,this.$t.__("Inbound Internal Suggestions",this.$tdPro))},{slug:"suggestions-outbound",icon:"svg-link-internal-outbound",name:this.$t.sprintf("%1$s %2$s",this.metabox?this.filteredSuggestionsOutbound.length:this.getLinksReportCounts[this.postIndex].suggestionsOutbound,this.$t.__("Outbound Internal Suggestions",this.$tdPro))}]}},methods:{...z("linkAssistant",["setLinksReportCounts"]),processChangeTab(t){this.activeTab=t,this.$emit("suggestionsTabChanged",t)},dismissAlert(){this.internalOptions.internal.dismissedAlerts.suggestions=!0,this.$http.get(this.$links.restUrl("link-assistant/data/dismiss-alert")).catch(t=>console.log("Could not dismiss suggestions alert:",t))}},beforeMount(){this.initialTab&&(this.activeTab=this.initialTab),this.setLinksReportCounts()}},Te={class:"aioseo-link-suggestions"},Le=["innerHTML"],Ce={class:"link-suggestions-container"};function Me(t,s,e,l,n,o){const k=u("core-alert"),c=u("core-main-tabs"),_=u("outbound"),m=u("inbound");return r(),g("div",Te,[t.internalOptions.internal.dismissedAlerts.suggestions?p("",!0):(r(),v(k,{key:0,class:"description",type:"blue","show-close":"",onCloseAlert:o.dismissAlert},{default:b(()=>[i("span",{innerHTML:n.strings.description},null,8,Le)]),_:1},8,["onCloseAlert"])),(r(),v(c,{internal:"",key:n.tabsKey,tabs:o.tabs,active:n.activeTab,showSaveButton:!1,onChanged:o.processChangeTab},{"var-tab-icon":b(({tab:$})=>[(r(),v(rt($.icon),{class:S([{warning:$.warning}])},null,8,["class"]))]),_:1},8,["tabs","active","onChanged"])),i("div",Ce,[(r(),v(W,null,[n.activeTab==="suggestions-outbound"?(r(),v(_,{key:0,post:t.post,postIndex:t.postIndex,postId:t.postId,filteredSuggestionsOutbound:e.filteredSuggestionsOutbound,linksReport:t.linksReport,postReport:t.postReport,metabox:t.metabox,onLinksUpdated:s[0]||(s[0]=$=>{n.tabsKey++,t.$emit("linksUpdated")})},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","linksReport","postReport","metabox"])):p("",!0)],1024)),(r(),v(W,null,[n.activeTab==="suggestions-inbound"?(r(),v(m,{key:0,post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:t.linksReport,postReport:t.postReport,metabox:t.metabox,onLinksUpdated:s[1]||(s[1]=$=>{n.tabsKey++,t.$emit("linksUpdated")})},null,8,["post","postIndex","postId","linksReport","postReport","metabox"])):p("",!0)],1024))])])}const nn=T(Se,[["render",Me]]);export{O as L,Qe as S,nt as a,Xe as b,tn as c,sn as d,en as e,nn as f};
