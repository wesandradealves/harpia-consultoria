import{c as v,b as S,m as f}from"./vuex.esm-bundler.f966fce5.js";import{R,C as b,L as T}from"./Redirects.6213f807.js";import{A as w}from"./WpTable.43babaf5.js";import"./default-i18n.0e8bc810.js";import"./constants.d64d7051.js";import{_ as p,q as r,o,j as l,k as _,a as g,z as c,x as C,t as U,b as u,c as y}from"./_plugin-vue_export-helper.299eda55.js";import"./index.c7acbe5b.js";import{J as k}from"./JsonValues.870a4901.js";import"./SaveChanges.176fcae6.js";import{a as A}from"./Index.ef01d39c.js";import{C as x}from"./Card.019b86ae.js";import{C as L}from"./index.f123d27f.js";const N={components:{CoreAlert:L},data(){return{strings:{nginxReload:this.$t.sprintf(this.$t.__("Your redirect settings have been updated. In order for them to work properly you may need to reload your %1$s configuration. %2$s",this.$tdPro),this.detectedServer(),this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"redirectServerConfigReload",!0)),dontKnow:this.$t.__("If you don't know how to do that please revert your Redirect Method to PHP.",this.$tdPro),checkAgain:this.$t.__("Check Again",this.$tdPro)}}},computed:{...v("redirects",["redirectOptions","redirectServerTest"])},methods:{...S("redirects",["testServerRedirects"]),maybeTest(){this.testServerRedirects()},detectedServer(){return this.$aioseo.data.server.apache?"Apache":this.$aioseo.data.server.nginx?"NGINX":this.$t.__("Server",this.$tdPro)}},mounted(){this.maybeTest(),this.$bus.$on("changes-saved",this.maybeTest)},beforeUnmount(){this.$bus.$off("changes-saved",this.maybeTest)}},P=["innerHTML"],M=["innerHTML"];function q(e,t,m,h,s,n){const i=r("base-button"),a=r("core-alert");return e.redirectServerTest.failed&&e.redirectOptions.main.method==="server"?(o(),l(a,{key:0,size:"small",type:"yellow"},{default:_(()=>[g("div",{innerHTML:s.strings.nginxReload},null,8,P),g("div",{innerHTML:s.strings.dontKnow},null,8,M),c(i,{type:"blue",size:"small",onClick:t[0]||(t[0]=d=>e.testServerRedirects()),loading:e.redirectServerTest.testing},{default:_(()=>[C(U(s.strings.checkAgain),1)]),_:1},8,["loading"])]),_:1})):u("",!0)}const B=p(N,[["render",q],["__scopeId","data-v-37c8c342"]]),H={components:{CoreAddRedirection:A,CoreCard:x,ServerConfigReloadWarning:B,RedirectsTable:R},mixins:[k],data(){return{queryUrls:[],targetUrl:"",type:0,strings:{addNewRedirection:this.$t.__("Add New Redirection",this.$tdPro)}}},computed:{...f("redirects",["manualUrls"]),getType(){return this.type?this.type:-1},getTarget(){return this.targetUrl?this.targetUrl:this.queryUrls.length?"/":""},getUrls(){var e;return(e=this==null?void 0:this.manualUrls)!=null&&e.length?(this.manualUrls.forEach(t=>{this.queryUrls.push({url:t.url,regex:t.regex||!1,ignoreSlash:t.slash||!1,ignoreCase:t.case||!1,errors:[],warnings:[]}),t.target&&(this.targetUrl=t.target),t.type&&(this.type=t.type)}),this.queryUrls):this.queryUrls}}},I={class:"aioseo-redirects"};function O(e,t,m,h,s,n){const i=r("server-config-reload-warning"),a=r("core-add-redirection"),d=r("core-card"),$=r("redirects-table");return o(),y("div",I,[c(i),c(d,{slug:"addNewRedirection","header-text":s.strings.addNewRedirection},{default:_(()=>[c(a,{urls:n.getUrls,target:n.getTarget,type:n.getType},null,8,["urls","target","type"])]),_:1},8,["header-text"]),c($)])}const V=p(H,[["render",O]]),z={mixins:[w],components:{Cta:b,Lite:T,Redirects:V},data(){return{addonSlug:"aioseo-redirects"}},computed:{...f(["options","settings"])}},G={class:"aioseo-redirects-main"};function j(e,t,m,h,s,n){const i=r("redirects",!0),a=r("cta"),d=r("lite");return o(),y("div",G,[e.shouldShowMain?(o(),l(i,{key:0})):u("",!0),e.shouldShowUpdate||e.shouldShowActivate?(o(),l(a,{key:1})):u("",!0),e.shouldShowLite?(o(),l(d,{key:2})):u("",!0)])}const D=p(z,[["render",j]]),se=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{D as R,B as S,se as a};
