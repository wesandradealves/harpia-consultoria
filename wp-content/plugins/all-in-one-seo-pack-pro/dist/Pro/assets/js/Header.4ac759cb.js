import"./WpTable.43babaf5.js";import"./default-i18n.0e8bc810.js";import"./constants.d64d7051.js";import{_ as d,q as a,o as t,c as i,z as c,k as g,a as l,T as y,x as w,t as m,m as V,B as M,j as p,b as r,C as k}from"./_plugin-vue_export-helper.299eda55.js";import"./index.c7acbe5b.js";import"./SaveChanges.176fcae6.js";import{S as L}from"./ScrollAndHighlight.9bcd7b23.js";import{c as F,m as S,d as $}from"./vuex.esm-bundler.f966fce5.js";import{C as q,a as x}from"./LicenseKeyBar.da2d6dc1.js";import{U as E}from"./AnimatedNumber.e19f9b9c.js";import{S as D}from"./Caret.e5d23aaa.js";import{S as W}from"./Logo.51893f13.js";import{S as j}from"./index.f123d27f.js";const G={components:{UtilAnimatedNumber:E},props:{percentage:Number},data(){return{fromNumber:0,number:0}},watch:{percentage:{deep:!0,handler(e){e!==this.number&&(this.fromNumber=this.number,this.number=e)}}},mounted(){this.number=this.percentage}},T={class:"aioseo-percent-circle"},Y={class:"aioseo-seo-site-score-svg",viewBox:"0 0 33.83098862 33.83098862",xmlns:"http://www.w3.org/2000/svg"},Z=l("circle",{class:"aioseo-percent-circle-score__background",stroke:"#BFD6F7","stroke-width":"2",fill:"none",cx:"16.91549431",cy:"16.91549431",r:"15.91549431"},null,-1),z=["stroke-dasharray"],O={class:"aioseo-percent-circle-percent"};function I(e,n,s,h,u,o){const _=a("util-animated-number");return t(),i("div",T,[c(y,{name:"fill-percent-circle"},{default:g(()=>[(t(),i("svg",Y,[Z,l("circle",{class:"aioseo-percent-circle-score__circle",stroke:"#005AE0","stroke-width":"2","stroke-dasharray":`${s.percentage},100`,fill:"none",cx:"16.91549431",cy:"16.91549431",r:"15.91549431"},null,8,z)]))]),_:1}),l("div",O,[l("div",null,[c(_,{number:u.number,"from-number":u.fromNumber},null,8,["number","from-number"]),w("% ")])])])}const P=d(G,[["render",I]]);const K={emits:["close"],components:{CorePercentCircle:P,SvgClose:D},props:{strings:Object,percentage:Number}},Q={class:"aioseo-processing-popup"},R=l("br",null,null,-1);function J(e,n,s,h,u,o){const _=a("core-percent-circle"),f=a("svg-close");return t(),i("div",Q,[c(_,{percentage:s.percentage},null,8,["percentage"]),l("div",null,[l("strong",null,m(s.strings.header),1),R,w(m(s.strings.description),1)]),c(f,{onClick:n[0]||(n[0]=C=>e.$emit("close"))})])}const X=d(K,[["render",J]]),ee={};function te(e,n){return t(),i("div")}const se=d(ee,[["render",te]]);const ne={props:{hero:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fullWidth:Boolean,small:Boolean},computed:{classes(){let e=this.fluid?"aioseo-container-fluid ":"aioseo-container ";return e+=this.hero?"aioseo-hero ":"",e+=this.fullWidth?"full-width ":"",e+=this.small?"small ":"",e}}};function oe(e,n,s,h,u,o){return t(),i("div",{class:M(o.classes)},[V(e.$slots,"default")],2)}const ie=d(ne,[["render",oe]]),re={},ae={viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-notifications"},ce=l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.8333 2.5H4.16667C3.25 2.5 2.5 3.25 2.5 4.16667V15.8333C2.5 16.75 3.24167 17.5 4.16667 17.5H15.8333C16.75 17.5 17.5 16.75 17.5 15.8333V4.16667C17.5 3.25 16.75 2.5 15.8333 2.5ZM15.8333 15.8333H4.16667V13.3333H7.13333C7.70833 14.325 8.775 15 10.0083 15C11.2417 15 12.3 14.325 12.8833 13.3333H15.8333V15.8333ZM11.675 11.6667H15.8333V4.16667H4.16667V11.6667H8.34167C8.34167 12.5833 9.09167 13.3333 10.0083 13.3333C10.925 13.3333 11.675 12.5833 11.675 11.6667Z",fill:"currentColor"},null,-1),le=[ce];function ue(e,n){return t(),i("svg",ae,le)}const pe=d(re,[["render",ue]]);const de={components:{CoreApiBar:q,CoreLicenseKeyBar:x,CorePercentCircle:P,CoreProcessingPopup:X,CoreUpgradeBar:se,GridContainer:ie,SvgAioseoLogo:W,SvgCircleQuestionMark:j,SvgNotifications:pe},mixins:[L],props:{fullWidth:Boolean,small:Boolean,pageName:String,actions:{type:Boolean,default(){return!0}},upgradeBar:{type:Boolean,default(){return!0}}},data(){return{activeScan:null,strings:{linkAssistantPopup:{header:this.$t.__("Link suggestions are being processed.",this.$td),description:this.$t.__("Depending on the number of posts being scanned, this process can take some time. You can safely leave this page and check back later.",this.$td)},searchStatisticsPopup:{header:this.$t.__("Search statistics are being fetched.",this.$td),description:this.$t.__("Depending on the amount of content on your site, this process can take some time. You can safely leave this page and check back later.",this.$td)}}}},computed:{...F(["settings","activeNotificationsCount","isUnlicensed","helpPanel"]),...S(["notifications","pong"]),...S("linkAssistant",["suggestionsScan"]),percentage(){switch(this.activeScan){case"linkAssistant":return this.suggestionsScan.percent;default:return null}},showPopup(){switch(this.activeScan){case"linkAssistant":return this.suggestionsScan.showProcessingPopup&&this.suggestionsScan.percent!==100;default:return null}},popupStrings(){switch(this.activeScan){case"linkAssistant":return this.strings.linkAssistantPopup;default:return null}}},methods:{...$(["toggleNotifications"]),...$("linkAssistant",["toggleProcessingPopup"]),debounce(e){let n;return(...s)=>{n&&cancelAnimationFrame(n),n=requestAnimationFrame(()=>{e(...s)})}},storeScroll(){document.documentElement.dataset.scroll=window.scrollY},toggleModal(){document.getElementById("aioseo-help-modal").classList.toggle("visible"),document.body.classList.toggle("modal-open")},checkForActiveScan(){this.$aioseo.page==="link-assistant"&&this.$addons.isActive("aioseo-link-assistant")&&!this.$addons.requiresUpgrade("aioseo-link-assistant")&&this.$addons.hasMinimumVersion("aioseo-link-assistant")&&(this.$route.name==="links-report"||this.$route.name==="overview")&&this.suggestionsScan.percent!==100&&(this.activeScan="linkAssistant")},toggleCirclePopup(){switch(this.activeScan){case"linkAssistant":return this.toggleProcessingPopup();default:return null}}},mounted(){this.storeScroll(),document.addEventListener("scroll",this.debounce(this.storeScroll),{passive:!0}),this.checkForActiveScan()}},_e={class:"aioseo-header"},ge={class:"aioseo-header-content"},me=["href"],he={key:2,class:"spacer"},fe={key:3,class:"page-name"},ve={key:4,class:"header-actions"},ke={key:0,class:"round number"};function ye(e,n,s,h,u,o){const _=a("core-upgrade-bar"),f=a("core-license-key-bar"),C=a("core-api-bar"),b=a("svg-aioseo-logo"),B=a("core-percent-circle"),N=a("core-processing-popup"),A=a("svg-notifications"),H=a("svg-circle-question-mark"),U=a("grid-container");return t(),i("div",_e,[!e.$isPro&&e.settings.showUpgradeBar&&s.upgradeBar&&e.pong?(t(),p(_,{key:0})):r("",!0),e.$isPro&&e.isUnlicensed&&e.pong?(t(),p(f,{key:1})):r("",!0),e.pong?r("",!0):(t(),p(C,{key:2})),c(U,{"full-width":s.fullWidth,small:s.small},{default:g(()=>[l("div",ge,[e.isUnlicensed?(t(),i("a",{key:0,href:e.$links.utmUrl("header-logo"),target:"_blank"},[c(b)],8,me)):r("",!0),e.isUnlicensed?r("",!0):(t(),p(b,{key:1})),s.pageName?(t(),i("span",he)):r("",!0),s.pageName?(t(),i("span",fe,m(s.pageName),1)):r("",!0),s.actions?(t(),i("div",ve,[c(y,{name:"fade-percent-circle"},{default:g(()=>[u.activeScan&&o.showPopup?(t(),p(B,{key:0,percentage:o.percentage,onClick:o.toggleCirclePopup},null,8,["percentage","onClick"])):r("",!0)]),_:1}),c(y,{name:"fade-processing-popup"},{default:g(()=>[o.showPopup?(t(),p(N,{key:0,strings:o.popupStrings,percentage:o.percentage,onClose:o.toggleCirclePopup},null,8,["strings","percentage","onClose"])):r("",!0)]),_:1}),l("span",{class:"round",onClick:n[0]||(n[0]=k((...v)=>e.toggleNotifications&&e.toggleNotifications(...v),["stop"]))},[e.activeNotificationsCount?(t(),i("span",ke,m(e.activeNotificationsCount>9?"!":e.activeNotificationsCount),1)):r("",!0),c(A,{onClick:k(e.toggleNotifications,["stop"])},null,8,["onClick"])]),e.helpPanel.docs&&Object.keys(e.helpPanel.docs).length?(t(),i("span",{key:0,class:"round",onClick:n[1]||(n[1]=k((...v)=>o.toggleModal&&o.toggleModal(...v),["stop"]))},[c(H)])):r("",!0)])):r("",!0)])]),_:1},8,["full-width","small"])])}const Le=d(de,[["render",ye]]);export{Le as C,ie as G,X as a};
