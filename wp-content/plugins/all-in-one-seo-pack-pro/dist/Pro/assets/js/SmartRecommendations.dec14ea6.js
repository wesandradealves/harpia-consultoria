import"./default-i18n.0e8bc810.js";import{u as U}from"./Wizard.b09ab7d7.js";import{W as B}from"./WpTable.43babaf5.js";import"./constants.d64d7051.js";import{_ as H,q as n,c as m,z as t,k as i,j as v,b as h,o as d,a as s,x as c,t as a,C as P,F as V,E as F}from"./_plugin-vue_export-helper.299eda55.js";import"./index.c7acbe5b.js";import"./SaveChanges.176fcae6.js";import{a as O,m as k,b as y}from"./vuex.esm-bundler.f966fce5.js";import{B as Y}from"./Checkbox.a2fb80a8.js";import{C as D,S as G}from"./index.f123d27f.js";import{C as q}from"./Index.60834494.js";import{C as j}from"./ProBadge.bec762d2.js";import{C as Q}from"./Tooltip.daabe115.js";import{G as J,a as K}from"./Row.0ab5735c.js";import{S as X}from"./Caret.e5d23aaa.js";import{W as Z,a as ee,b as se}from"./Header.45ff1370.js";import{W as te,a as oe}from"./Steps.4b12c819.js";import"./_commonjsHelpers.f84db168.js";import"./Index.c0b708e6.js";import"./helpers.73050afe.js";import"./RequiresUpdate.fe231e49.js";import"./postContent.42ceb47d.js";import"./cleanForSlug.a98315ee.js";import"./html.5f1b4643.js";import"./Checkmark.18246889.js";import"./Logo.51893f13.js";const ne={setup(){const{strings:o}=U();return{composableStrings:o}},components:{BaseCheckbox:Y,CoreAlert:D,CoreModal:q,CoreProBadge:j,CoreTooltip:Q,GridColumn:J,GridRow:K,SvgCircleQuestionMark:G,SvgClose:X,WizardBody:Z,WizardCloseAndExit:te,WizardContainer:ee,WizardHeader:se,WizardSteps:oe},mixins:[B],data(){return{loading:!1,stage:"smart-recommendations",showModal:!1,loadingModal:!1,strings:O(this.composableStrings,{setupSiteAnalyzer:this.$t.__("Setup Site Analyzer + Smart Recommendations",this.$td),description:this.$t.sprintf(this.$t.__("Get helpful suggestions from %1$s on how to optimize your website content, so you can rank higher in search results.",this.$td),"AIOSEO"),yourEmailAddress:this.$t.__("Your Email Address",this.$td),yourEmailIsNeeded:this.$t.__("Your email is needed so you can receive SEO recommendations. This email will also be used to connect your site with our SEO API.",this.$td),helpMakeAioseoBetter:this.$t.sprintf(this.$t.__("Help make %1$s better for everyone",this.$td),"AIOSEO"),yesCountMeIn:this.$t.__("Yes, count me in",this.$td),wouldYouLikeToPurchase:this.$t.__("Would you like to purchase and install the following features now?",this.$td),theseFeaturesAreAvailable:this.$t.__("An upgrade is required to unlock the following features.",this.$td),youWontHaveAccess:this.$t.__("You won't have access to this functionality until the extensions have been purchased and installed.",this.$td),illDoItLater:this.$t.__("I'll do it later",this.$td),purchaseAndInstallNow:this.$t.__("Purchase and Install Now",this.$td),bonusText:this.$t.sprintf(this.$t.__("%1$sBonus:%2$s You can upgrade your plan today and %3$ssave %4$s off%5$s (discount auto-applied).",this.$td),"<strong>","</strong>","<strong>",this.$constants.DISCOUNT_PERCENTAGE,"</strong>"),usageTrackingTooltip:this.$t.sprintf(this.$t.__("Complete documentation on usage tracking is available %1$shere%2$s.",this.$td),this.$t.sprintf('<strong><a href="%1$s" target="_blank">',this.$links.getDocUrl("usageTracking")),"</a></strong>")})}},computed:{...k(["internalOptions"]),...k("wizard",{smartRecommendations:"smartRecommendations",presetFeatures:"features"}),selectedFeaturesNeedsUpsell(){let o=!1;return this.presetFeatures.forEach(r=>{this.needsUpsell(this.features.find(g=>g.value===r))&&(o=!0)}),o}},methods:{...y(["saveConnectToken"]),...y("wizard",["saveWizard"]),purchase(){this.modalLoading=!0;const o=`&license-redirect=${btoa(this.$aioseo.urls.aio.wizard)}#/license-key`;window.open("https://aioseo.com/pricing/?features[]="+this.getSelectedUpsellFeatures.map(r=>r.value).join("&features[]=")+o),this.$router.push(this.getNextLink)},saveAndContinue(){this.loading=!0,this.saveWizard("smartRecommendations").then(()=>{if(!this.selectedFeaturesNeedsUpsell)return this.$router.push(this.getNextLink);this.showModal=!0,this.loading=!1})},skipStep(){this.saveWizard(),this.$router.push(this.getNextLink)},preventUncheck(o){o.preventDefault(),o.stopPropagation()}},mounted(){this.smartRecommendations.accountInfo=this.$aioseo.user.data.data.user_email}},ie={class:"aioseo-wizard-smart-recommendations"},re={class:"header"},ae={class:"description"},le={class:"aioseo-settings-row no-border small-padding"},ce={class:"settings-name"},de={class:"name small-margin"},ue={class:"aioseo-description"},me={key:0,class:"aioseo-settings-row no-border no-margin small-padding"},pe={class:"settings-name"},_e={class:"name small-margin"},he=["innerHTML"],ge={class:"go-back"},fe=s("div",{class:"spacer"},null,-1),ve={class:"aioseo-modal-body"},ke=["innerHTML"],ye={class:"settings-name"},we={class:"name small-margin"},be={class:"aioseo-description-text"},Ce=["innerHTML"],$e={class:"actions"},ze=s("div",{class:"spacer"},null,-1),Ae={class:"go-back"};function Se(o,r,g,Te,e,u){const w=n("wizard-header"),b=n("wizard-steps"),C=n("base-input"),$=n("svg-circle-question-mark"),z=n("core-tooltip"),A=n("base-toggle"),p=n("router-link"),_=n("base-button"),S=n("wizard-body"),T=n("wizard-close-and-exit"),M=n("wizard-container"),L=n("svg-close"),x=n("core-pro-badge"),f=n("grid-column"),I=n("base-checkbox"),N=n("grid-row"),E=n("core-alert"),W=n("core-modal");return d(),m("div",ie,[t(w),t(M,null,{default:i(()=>[t(S,null,{footer:i(()=>[s("div",ge,[t(p,{to:o.getPrevLink,class:"no-underline"},{default:i(()=>[c("←")]),_:1},8,["to"]),c("   "),t(p,{to:o.getPrevLink},{default:i(()=>[c(a(e.strings.goBack),1)]),_:1},8,["to"])]),fe,t(_,{type:"gray",onClick:u.skipStep},{default:i(()=>[c(a(e.strings.skipThisStep),1)]),_:1},8,["onClick"]),t(_,{type:"blue",loading:e.loading,onClick:u.saveAndContinue},{default:i(()=>[c(a(e.strings.saveAndContinue)+" →",1)]),_:1},8,["loading","onClick"])]),default:i(()=>[t(b),s("div",re,a(e.strings.setupSiteAnalyzer),1),s("div",ae,a(e.strings.description),1),s("div",le,[s("div",ce,[s("div",de,a(e.strings.yourEmailAddress),1)]),t(C,{size:"medium",modelValue:o.smartRecommendations.accountInfo,"onUpdate:modelValue":r[0]||(r[0]=l=>o.smartRecommendations.accountInfo=l)},null,8,["modelValue"]),s("div",ue,a(e.strings.yourEmailIsNeeded),1)]),o.$isPro?h("",!0):(d(),m("div",me,[s("div",pe,[s("div",_e,[c(a(e.strings.helpMakeAioseoBetter)+" ",1),t(z,null,{tooltip:i(()=>[s("div",{innerHTML:e.strings.usageTrackingTooltip},null,8,he)]),default:i(()=>[t($)]),_:1})])]),t(A,{modelValue:o.smartRecommendations.usageTracking,"onUpdate:modelValue":r[1]||(r[1]=l=>o.smartRecommendations.usageTracking=l)},{default:i(()=>[c(a(e.strings.yesCountMeIn),1)]),_:1},8,["modelValue"])]))]),_:1}),t(T)]),_:1}),e.showModal?(d(),v(W,{key:0,"no-header":"",onClose:r[4]||(r[4]=l=>e.showModal=!1)},{body:i(()=>[s("div",ve,[s("button",{class:"close",onClick:r[3]||(r[3]=P(l=>e.showModal=!1,["stop"]))},[t(L,{onClick:r[2]||(r[2]=l=>e.showModal=!1)})]),s("h3",null,a(e.strings.wouldYouLikeToPurchase),1),s("div",{class:"available-features",innerHTML:e.strings.theseFeaturesAreAvailable},null,8,ke),(d(!0),m(V,null,F(o.getSelectedUpsellFeatures,(l,R)=>(d(),m("div",{key:R,class:"aioseo-settings-row feature-grid small-padding medium-margin"},[t(N,null,{default:i(()=>[t(f,{xs:"11"},{default:i(()=>[s("div",ye,[s("div",we,[c(a(l.name)+" ",1),o.needsUpsell(l)?(d(),v(x,{key:0})):h("",!0)]),s("div",be,a(l.description),1)])]),_:2},1024),t(f,{xs:"1"},{default:i(()=>[t(I,{round:"",class:"no-clicks",type:"green",modelValue:!0,onClick:u.preventUncheck},null,8,["onClick"])]),_:1})]),_:2},1024)]))),128)),s("div",{class:"available-features no-access",innerHTML:e.strings.youWontHaveAccess},null,8,Ce),s("div",$e,[ze,s("div",Ae,[t(p,{to:o.getNextLink},{default:i(()=>[c(a(e.strings.illDoItLater),1)]),_:1},8,["to"])]),t(_,{type:"green",loading:e.loadingModal,onClick:u.purchase},{default:i(()=>[c(a(e.strings.purchaseAndInstallNow),1)]),_:1},8,["loading","onClick"])]),t(E,{type:"yellow",innerHTML:e.strings.bonusText},null,8,["innerHTML"])])]),_:1})):h("",!0)])}const ss=H(ne,[["render",Se]]);export{ss as default};
